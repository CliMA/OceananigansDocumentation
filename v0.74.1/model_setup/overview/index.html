<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · Oceananigans.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://clima.github.io/OceananigansDocumentation/stable/model_setup/overview/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><script src="../../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Oceananigans.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation_instructions/">Installation instructions</a></li><li><a class="tocitem" href="../../using_gpus/">Using GPUs</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../generated/one_dimensional_diffusion/">One-dimensional diffusion</a></li><li><a class="tocitem" href="../../generated/geostrophic_adjustment/">Geostrophic adjustment</a></li><li><a class="tocitem" href="../../generated/two_dimensional_turbulence/">Two-dimensional turbulence</a></li><li><a class="tocitem" href="../../generated/internal_wave/">Internal wave</a></li><li><a class="tocitem" href="../../generated/convecting_plankton/">Convecting plankton</a></li><li><a class="tocitem" href="../../generated/ocean_wind_mixing_and_convection/">Ocean wind mixing and convection</a></li><li><a class="tocitem" href="../../generated/langmuir_turbulence/">Langmuir turbulence</a></li><li><a class="tocitem" href="../../generated/eady_turbulence/">Eady turbulence</a></li><li><a class="tocitem" href="../../generated/kelvin_helmholtz_instability/">Kelvin-Helmholtz instability</a></li><li><a class="tocitem" href="../../generated/shallow_water_Bickley_jet/">Shallow water Bickley jet</a></li><li><a class="tocitem" href="../../generated/horizontal_convection/">Horizontal convection</a></li><li><a class="tocitem" href="../../generated/tilted_bottom_boundary_layer/">Tilted bottom boundary layer</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Physics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../physics/notation/">Coordinate system and notation</a></li><li><a class="tocitem" href="../../physics/boussinesq/">Boussinesq approximation</a></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label"><code>NonhydrostaticModel</code></span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../physics/nonhydrostatic_model/">Nonhydrostatic model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label"><code>HydrostaticFreeSurfaceModel</code></span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../physics/hydrostatic_free_surface_model/">Hydrostatic model with a free surface</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label"><code>ShallowWaterModel</code></span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../physics/shallow_water_model/">Shallow water model</a></li></ul></li><li><a class="tocitem" href="../../physics/buoyancy_and_equations_of_state/">Buoyancy models and equations of state</a></li><li><a class="tocitem" href="../../physics/coriolis_forces/">Coriolis forces</a></li><li><a class="tocitem" href="../../physics/turbulence_closures/">Turbulence closures</a></li><li><a class="tocitem" href="../../physics/surface_gravity_waves/">Surface gravity waves and the Craik-Leibovich approximation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Numerical implementation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../numerical_implementation/finite_volume/">Finite volume method</a></li><li><a class="tocitem" href="../../numerical_implementation/spatial_operators/">Spatial operators</a></li><li><a class="tocitem" href="../../numerical_implementation/pressure_decomposition/">Pressure decomposition</a></li><li><a class="tocitem" href="../../numerical_implementation/time_stepping/">Time stepping</a></li><li><a class="tocitem" href="../../numerical_implementation/boundary_conditions/">Boundary conditions</a></li><li><a class="tocitem" href="../../numerical_implementation/poisson_solvers/">Poisson solvers</a></li><li><a class="tocitem" href="../../numerical_implementation/large_eddy_simulation/">Large eddy simulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">Model setup</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Overview</a></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><a class="tocitem" href="../number_type/">Number type</a></li><li><a class="tocitem" href="../grids/">Grid</a></li><li><a class="tocitem" href="../clock/">Clock</a></li><li><a class="tocitem" href="../coriolis/">Coriolis (rotation)</a></li><li><a class="tocitem" href="../tracers/">Tracers</a></li><li><a class="tocitem" href="../buoyancy_and_equation_of_state/">Buoyancy models and equation of state</a></li><li><a class="tocitem" href="../boundary_conditions/">Boundary conditions</a></li><li><a class="tocitem" href="../forcing_functions/">Forcing functions</a></li><li><a class="tocitem" href="../background_fields/">Background fields</a></li><li><a class="tocitem" href="../turbulent_diffusivity_closures_and_les_models/">Turbulent diffusivity closures and LES models</a></li><li><a class="tocitem" href="../lagrangian_particles/">Lagrangian particles</a></li><li><a class="tocitem" href="../diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../output_writers/">Output writers</a></li><li><a class="tocitem" href="../checkpointing/">Checkpointing</a></li><li><a class="tocitem" href="../setting_initial_conditions/">Setting initial conditions</a></li></ul></li><li><a class="tocitem" href="../../simulation_tips/">Simulation tips</a></li><li><a class="tocitem" href="../../contributing/">Contributor&#39;s guide</a></li><li><a class="tocitem" href="../../gallery/">Gallery</a></li><li><a class="tocitem" href="../../references/">References</a></li><li><input class="collapse-toggle" id="menuitem-12" type="checkbox"/><label class="tocitem" for="menuitem-12"><span class="docs-label">Appendix</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../appendix/staggered_grid/">Staggered grid</a></li><li><a class="tocitem" href="../../appendix/fractional_step/">Fractional step method</a></li><li><a class="tocitem" href="../../appendix/convergence_tests/">Convergence tests</a></li><li><a class="tocitem" href="../../appendix/benchmarks/">Performance benchmarks</a></li><li><a class="tocitem" href="../../appendix/library/">Library</a></li><li><a class="tocitem" href="../../appendix/function_index/">Function index</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model setup</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/Oceananigans.jl/blob/master/docs/src/model_setup/overview.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-setup"><a class="docs-heading-anchor" href="#Model-setup">Model setup</a><a id="Model-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Model-setup" title="Permalink"></a></h1><p>This section describes all the options and features that can be used to set up a model. For  more detailed information consult the API documentation.</p><p>Each structure covered in this section can be constructed and passed to the models&#39; constructors.  For examples of model construction, see the examples. The validation experiments provide more  advanced examples.</p><p>For reference, here are all the option or keyword arguments that can be passed to the models currently implemented in Oceananigans.jl. See the different sections on the sidebar for more  details and examples for each keyword argument.</p><h3 id="NonhydrostaticModel"><a class="docs-heading-anchor" href="#NonhydrostaticModel"><code>NonhydrostaticModel</code></a><a id="NonhydrostaticModel-1"></a><a class="docs-heading-anchor-permalink" href="#NonhydrostaticModel" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Models.NonhydrostaticModels.NonhydrostaticModel" href="#Oceananigans.Models.NonhydrostaticModels.NonhydrostaticModel"><code>Oceananigans.Models.NonhydrostaticModels.NonhydrostaticModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NonhydrostaticModel(;     grid,
                          clock = Clock{eltype(grid)}(0, 0, 1),
                      advection = CenteredSecondOrder(),
                       buoyancy = nothing,
                       coriolis = nothing,
                   stokes_drift = nothing,
            forcing::NamedTuple = NamedTuple(),
                        closure = nothing,
boundary_conditions::NamedTuple = NamedTuple(),
                        tracers = (),
                    timestepper = :QuasiAdamsBashforth2,
  background_fields::NamedTuple = NamedTuple(),
  particles::ParticlesOrNothing = nothing,
                     velocities = nothing,
                      pressures = nothing,
             diffusivity_fields = nothing,
                pressure_solver = nothing,
              immersed_boundary = nothing,
               auxiliary_fields = NamedTuple(),
)</code></pre><p>Construct a model for a non-hydrostatic, incompressible fluid, using the Boussinesq approximation when <code>buoyancy != nothing</code>. By default, all Bounded directions are rigid and impenetrable.</p><p><strong>Keyword arguments</strong></p><ul><li><code>grid</code>: (required) The resolution and discrete geometry on which <code>model</code> is solved. The         architecture (CPU/GPU) that the model is solve is inferred from the architecture         of the grid.</li><li><code>advection</code>: The scheme that advects velocities and tracers. See <code>Oceananigans.Advection</code>.</li><li><code>buoyancy</code>: The buoyancy model. See <code>Oceananigans.BuoyancyModels</code>.</li><li><code>coriolis</code>: Parameters for the background rotation rate of the model.</li><li><code>stokes_drift</code>: Parameters for Stokes drift fields associated with surface waves. Default: <code>nothing</code>.</li><li><code>forcing</code>: <code>NamedTuple</code> of user-defined forcing functions that contribute to solution tendencies.</li><li><code>closure</code>: The turbulence closure for <code>model</code>. See <code>Oceananigans.TurbulenceClosures</code>.</li><li><code>boundary_conditions</code>: <code>NamedTuple</code> containing field boundary conditions.</li><li><code>tracers</code>: A tuple of symbols defining the names of the modeled tracers, or a <code>NamedTuple</code> of            preallocated <code>CenterField</code>s.</li><li><code>timestepper</code>: A symbol that specifies the time-stepping method. Either <code>:QuasiAdamsBashforth2</code> or                <code>:RungeKutta3</code>.</li><li><code>background_fields</code>: <code>NamedTuple</code> with background fields (e.g., background flow). Default: <code>nothing</code>.</li><li><code>particles</code>: Lagrangian particles to be advected with the flow. Default: <code>nothing</code>.</li><li><code>velocities</code>: The model velocities. Default: <code>nothing</code>.</li><li><code>pressures</code>: Hydrostatic and non-hydrostatic pressure fields. Default: <code>nothing</code>.</li><li><code>diffusivity_fields</code>: Diffusivity fields. Default: <code>nothing</code>.</li><li><code>pressure_solver</code>: Pressure solver to be used in the model. If <code>nothing</code> (default), the model constructor chooses the default based on the <code>grid</code> provide.</li><li><code>immersed_boundary</code>: The immersed boundary. Default: <code>nothing</code>.</li><li><code>auxiliary_fields</code>: <code>NamedTuple</code> of auxiliary fields. Default: <code>nothing</code>.               </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Oceananigans.jl/blob/f0dd79d06af45ddaf2269a997a88049e634270b3/src/Models/NonhydrostaticModels/nonhydrostatic_model.jl#L50-L101">source</a></section></article><h3 id="HydrostaticFreeSurfaceModel"><a class="docs-heading-anchor" href="#HydrostaticFreeSurfaceModel"><code>HydrostaticFreeSurfaceModel</code></a><a id="HydrostaticFreeSurfaceModel-1"></a><a class="docs-heading-anchor-permalink" href="#HydrostaticFreeSurfaceModel" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Models.HydrostaticFreeSurfaceModels.HydrostaticFreeSurfaceModel" href="#Oceananigans.Models.HydrostaticFreeSurfaceModels.HydrostaticFreeSurfaceModel"><code>Oceananigans.Models.HydrostaticFreeSurfaceModels.HydrostaticFreeSurfaceModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HydrostaticFreeSurfaceModel(; grid,
                                         clock = Clock{eltype(grid)}(0, 0, 1),
                            momentum_advection = CenteredSecondOrder(),
                              tracer_advection = CenteredSecondOrder(),
                                      buoyancy = SeawaterBuoyancy(eltype(grid)),
                                      coriolis = nothing,
                                  free_surface = ExplicitFreeSurface(gravitational_acceleration=g_Earth),
                           forcing::NamedTuple = NamedTuple(),
                                       closure = nothing,
               boundary_conditions::NamedTuple = NamedTuple(),
                                       tracers = (:T, :S),
particles::Union{Nothing, LagrangianParticles} = nothing,
                                    velocities = nothing,
                                      pressure = nothing,
                            diffusivity_fields = nothing,
                              auxiliary_fields = NamedTuple(),
)</code></pre><p>Construct an hydrostatic model with a free surface on <code>grid</code>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>grid</code>: (required) The resolution and discrete geometry on which <code>model</code> is solved. The architecture (CPU/GPU) that the model is solve is inferred from the architecture of the grid.</li><li><code>momentum_advection</code>: The scheme that advects velocities. See <code>Oceananigans.Advection</code>.</li><li><code>tracer_advection</code>: The scheme that advects tracers. See <code>Oceananigans.Advection</code>.</li><li><code>buoyancy</code>: The buoyancy model. See <code>Oceananigans.BuoyancyModels</code>.</li><li><code>coriolis</code>: Parameters for the background rotation rate of the model.</li><li><code>forcing</code>: <code>NamedTuple</code> of user-defined forcing functions that contribute to solution tendencies.</li><li><code>free_surface</code>: The free surface model.</li><li><code>closure</code>: The turbulence closure for <code>model</code>. See <code>Oceananigans.TurbulenceClosures</code>.</li><li><code>boundary_conditions</code>: <code>NamedTuple</code> containing field boundary conditions.</li><li><code>tracers</code>: A tuple of symbols defining the names of the modeled tracers, or a <code>NamedTuple</code> of            preallocated <code>CenterField</code>s.</li><li><code>particles</code>: Lagrangian particles to be advected with the flow. Default: <code>nothing</code>.</li><li><code>velocities</code>: The model velocities. Default: <code>nothing</code>.</li><li><code>pressure</code>: Hydrostatic pressure field. Default: <code>nothing</code>.</li><li><code>diffusivity_fields</code>: Diffusivity fields. Default: <code>nothing</code>.</li><li><code>auxiliary_fields</code>: <code>NamedTuple</code> of auxiliary fields. Default: <code>nothing</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Oceananigans.jl/blob/f0dd79d06af45ddaf2269a997a88049e634270b3/src/Models/HydrostaticFreeSurfaceModels/hydrostatic_free_surface_model.jl#L49-L91">source</a></section></article><h3 id="ShallowWaterModel"><a class="docs-heading-anchor" href="#ShallowWaterModel"><code>ShallowWaterModel</code></a><a id="ShallowWaterModel-1"></a><a class="docs-heading-anchor-permalink" href="#ShallowWaterModel" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Models.ShallowWaterModels.ShallowWaterModel" href="#Oceananigans.Models.ShallowWaterModels.ShallowWaterModel"><code>Oceananigans.Models.ShallowWaterModels.ShallowWaterModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ShallowWaterModel(; grid,
                    gravitational_acceleration,
                          clock = Clock{eltype(grid)}(0, 0, 1),
                      advection = UpwindBiasedFifthOrder(),
                       coriolis = nothing,
            forcing::NamedTuple = NamedTuple(),
                        closure = nothing,
                     bathymetry = nothing,
                        tracers = (),
             diffusivity_fields = nothing,
boundary_conditions::NamedTuple = NamedTuple(),
            timestepper::Symbol = :RungeKutta3)</code></pre><p>Construct a shallow water model on <code>grid</code> with <code>gravitational_acceleration</code> constant.</p><p><strong>Keyword arguments</strong></p><ul><li><code>grid</code>: (required) The resolution and discrete geometry on which <code>model</code> is solved. The         architecture (CPU/GPU) that the model is solve is inferred from the architecture         of the grid.</li><li><code>gravitational_acceleration</code>: (required) The gravitational acceleration constant.</li><li><code>clock</code>: The <code>clock</code> for the model.</li><li><code>advection</code>: The scheme that advects velocities and tracers. See <code>Oceananigans.Advection</code>.</li><li><code>coriolis</code>: Parameters for the background rotation rate of the model.</li><li><code>forcing</code>: <code>NamedTuple</code> of user-defined forcing functions that contribute to solution tendencies.</li><li><code>closure</code>: The turbulence closure for <code>model</code>. See <code>Oceananigans.TurbulenceClosures</code>.</li><li><code>bathymetry</code>: The bottom bathymetry.</li><li><code>tracers</code>: A tuple of symbols defining the names of the modeled tracers, or a <code>NamedTuple</code> of            preallocated <code>CenterField</code>s.</li><li><code>diffusivity_fields</code>: Stores diffusivity fields when the closures require a diffusivity to be                       calculated at each timestep.</li><li><code>boundary_conditions</code>: <code>NamedTuple</code> containing field boundary conditions.</li><li><code>timestepper</code>: A symbol that specifies the time-stepping method. Either <code>:QuasiAdamsBashforth2</code>,                <code>:RungeKutta3</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Oceananigans.jl/blob/f0dd79d06af45ddaf2269a997a88049e634270b3/src/Models/ShallowWaterModels/shallow_water_model.jl#L54-L90">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../numerical_implementation/large_eddy_simulation/">« Large eddy simulation</a><a class="docs-footer-nextpage" href="../architecture/">Architecture »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Friday 15 April 2022 00:23">Friday 15 April 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
