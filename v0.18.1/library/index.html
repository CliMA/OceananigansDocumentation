<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · Oceananigans.jl</title><link rel="canonical" href="https://climate-machine.github.io/Oceananigans.jl/latest/library/index.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Oceananigans.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation_instructions/">Installation instructions</a></li><li><a class="tocitem" href="../using_gpus/">Using GPUs</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/one_dimensional_diffusion/">One-dimensional diffusion</a></li><li><a class="tocitem" href="../generated/two_dimensional_turbulence/">Two-dimensional turbulence</a></li><li><a class="tocitem" href="../generated/ocean_wind_mixing_and_convection/">Ocean wind mixing and convection</a></li><li><a class="tocitem" href="../generated/ocean_convection_with_plankton/">Ocean convection with plankton</a></li><li><a class="tocitem" href="../generated/internal_wave/">Internal wave</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Model setup</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../model_setup/overview/">Overview</a></li><li><a class="tocitem" href="../model_setup/architecture/">Architecture</a></li><li><a class="tocitem" href="../model_setup/number_type/">Number type</a></li><li><a class="tocitem" href="../model_setup/grids/">Grid</a></li><li><a class="tocitem" href="../model_setup/clock/">Clock</a></li><li><a class="tocitem" href="../model_setup/coriolis/">Coriolis (rotation)</a></li><li><a class="tocitem" href="../model_setup/tracers/">Tracers</a></li><li><a class="tocitem" href="../model_setup/buoyancy_and_equation_of_state/">Buoyancy and equation of state</a></li><li><a class="tocitem" href="../model_setup/boundary_conditions/">Boundary conditions</a></li><li><a class="tocitem" href="../model_setup/forcing_functions/">Forcing functions</a></li><li><a class="tocitem" href="../model_setup/model_parameters/">Model parameters</a></li><li><a class="tocitem" href="../model_setup/turbulent_diffusivity_closures_and_les_models/">Turbulent diffusivity closures and LES models</a></li><li><a class="tocitem" href="../model_setup/diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../model_setup/output_writers/">Output writers</a></li><li><a class="tocitem" href="../model_setup/time_stepping/">Time stepping</a></li><li><a class="tocitem" href="../model_setup/setting_initial_conditions/">Setting initial conditions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Physics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../physics/navier_stokes_and_tracer_conservation/">Navier-Stokes and tracer conservation equations</a></li><li><a class="tocitem" href="../physics/coordinate_system_and_notation/">Coordinate system and notation</a></li><li><a class="tocitem" href="../physics/boussinesq_approximation/">The Boussinesq approximation</a></li><li><a class="tocitem" href="../physics/coriolis_forces/">Coriolis forces</a></li><li><a class="tocitem" href="../physics/buoyancy_and_equations_of_state/">Buoyancy model and equations of state</a></li><li><a class="tocitem" href="../physics/turbulence_closures/">Turbulence closures</a></li><li><a class="tocitem" href="../physics/surface_gravity_waves/">Surface gravity waves and the Craik-Leibovich approximation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Numerical implementation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../numerical_implementation/pressure_decomposition/">Pressure decomposition</a></li><li><a class="tocitem" href="../numerical_implementation/time_stepping/">Time stepping</a></li><li><a class="tocitem" href="../numerical_implementation/finite_volume/">Finite volume method</a></li><li><a class="tocitem" href="../numerical_implementation/spatial_operators/">Spatial operators</a></li><li><a class="tocitem" href="../numerical_implementation/boundary_conditions/">Boundary conditions</a></li><li><a class="tocitem" href="../numerical_implementation/poisson_solvers/">Poisson solvers</a></li><li><a class="tocitem" href="../numerical_implementation/large_eddy_simulation/">Large eddy simulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Verification experiments</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../verification/taylor_green_vortex/">Taylor-Green vortex</a></li><li><a class="tocitem" href="../verification/stratified_couette_flow/">Stratified Couette flow</a></li></ul></li><li><a class="tocitem" href="../gallery/">Gallery</a></li><li><a class="tocitem" href="../benchmarks/">Performance benchmarks</a></li><li><a class="tocitem" href="../contributing/">Contributor&#39;s guide</a></li><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#Boundary-conditions-1"><span>Boundary conditions</span></a></li><li><a class="tocitem" href="#Buoyancy-1"><span>Buoyancy</span></a></li><li><a class="tocitem" href="#Clock-1"><span>Clock</span></a></li><li><a class="tocitem" href="#Coriolis-1"><span>Coriolis</span></a></li><li><a class="tocitem" href="#Diagnostics-1"><span>Diagnostics</span></a></li><li><a class="tocitem" href="#Fields-1"><span>Fields</span></a></li><li><a class="tocitem" href="#Forcing-1"><span>Forcing</span></a></li><li><a class="tocitem" href="#Grids-1"><span>Grids</span></a></li><li><a class="tocitem" href="#Models-1"><span>Models</span></a></li><li><a class="tocitem" href="#Output-writers-1"><span>Output writers</span></a></li><li><a class="tocitem" href="#Time-steppers-1"><span>Time steppers</span></a></li><li><a class="tocitem" href="#Tubrulence-closures-1"><span>Tubrulence closures</span></a></li><li><a class="tocitem" href="#Utilities-1"><span>Utilities</span></a></li><li><a class="tocitem" href="#Abstract-operations-1"><span>Abstract operations</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-13" type="checkbox"/><label class="tocitem" for="menuitem-13"><span class="docs-label">Appendix</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../appendix/staggered_grid/">Staggered grid</a></li><li><a class="tocitem" href="../appendix/fractional_step/">Fractional step method</a></li></ul></li><li><a class="tocitem" href="../function_index/">Function index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/climate-machine/Oceananigans.jl/blob/master/docs/src/library.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Library-1"><a class="docs-heading-anchor" href="#Library-1">Library</a><a class="docs-heading-anchor-permalink" href="#Library-1" title="Permalink"></a></h1><p>Documenting the public user interface.</p><h2 id="Boundary-conditions-1"><a class="docs-heading-anchor" href="#Boundary-conditions-1">Boundary conditions</a><a class="docs-heading-anchor-permalink" href="#Boundary-conditions-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.BoundaryCondition" href="#Oceananigans.BoundaryCondition"><code>Oceananigans.BoundaryCondition</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BoundaryCondition{C&lt;:BCType}(condition)</code></pre><p>Construct a boundary condition of type <code>C</code> with a <code>condition</code> that may be given by a number, an array, or a function with signature:</p><pre><code class="language-none">condition(i, j, grid, time, iteration, U, Φ, parameters) = # function definition</code></pre><p>that returns a number and where <code>i</code> and <code>j</code> are indices along the boundary.</p><p>Boundary condition types include <code>Periodic</code>, <code>Flux</code>, <code>Value</code>, <code>Gradient</code>, and <code>NoPenetration</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L81-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.BoundaryFunction" href="#Oceananigans.BoundaryFunction"><code>Oceananigans.BoundaryFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BoundaryFunction{B, X1, X2, F}</code></pre><p>A wrapper for user-defined boundary condition functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L131-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.CoordinateBoundaryConditions" href="#Oceananigans.CoordinateBoundaryConditions"><code>Oceananigans.CoordinateBoundaryConditions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">CoordinateBoundaryConditions(left, right)</code></pre><p>A set of two <code>BoundaryCondition</code>s to be applied along a coordinate x, y, or z.</p><p>The <code>left</code> boundary condition is applied on the negative or lower side of the coordinate while the <code>right</code> boundary condition is applied on the positive or higher side.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L174-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Dirchlet" href="#Oceananigans.Dirchlet"><code>Oceananigans.Dirchlet</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Dirchlet</code></pre><p>An alias for the <code>Value</code> boundary condition type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L67-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FieldBoundaryConditions" href="#Oceananigans.FieldBoundaryConditions"><code>Oceananigans.FieldBoundaryConditions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FieldBoundaryConditions</code></pre><p>An alias for <code>NamedTuple{(:x, :y, :z)}</code> that represents a set of three <code>CoordinateBoundaryCondition</code>s applied to a field along x, y, and z.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L212-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FieldBoundaryConditions-Tuple{Any,Any,Any}" href="#Oceananigans.FieldBoundaryConditions-Tuple{Any,Any,Any}"><code>Oceananigans.FieldBoundaryConditions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">FieldBoundaryConditions(x, y, z)</code></pre><p>Construct a <code>FieldBoundaryConditions</code> using a <code>CoordinateBoundaryCondition</code> for each of the <code>x</code>, <code>y</code>, and <code>z</code> coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L228-L233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Flux" href="#Oceananigans.Flux"><code>Oceananigans.Flux</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Flux</code></pre><p>A type specifying a boundary condition on the flux of a field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Gradient" href="#Oceananigans.Gradient"><code>Oceananigans.Gradient</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Gradient</code></pre><p>A type specifying a boundary condition on the derivative or gradient of a field. Also called a Neumann boundary condition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L30-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Neumann" href="#Oceananigans.Neumann"><code>Oceananigans.Neumann</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Neumann</code></pre><p>An alias for the <code>Gradient</code> boundary condition type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Periodic" href="#Oceananigans.Periodic"><code>Oceananigans.Periodic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Periodic</code></pre><p>A type specifying a periodic boundary condition.</p><p>A condition may not be specified with a <code>Periodic</code> boundary condition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L14-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Value" href="#Oceananigans.Value"><code>Oceananigans.Value</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Value</code></pre><p>A type specifying a boundary condition on the value of a field. Also called a Dirchlet boundary condition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L38-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.ChannelBCs-Tuple{}" href="#Oceananigans.ChannelBCs-Tuple{}"><code>Oceananigans.ChannelBCs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ChannelBCs(; north = BoundaryCondition(Flux, nothing),
             south = BoundaryCondition(Flux, nothing),
               top = BoundaryCondition(Flux, nothing),
            bottom = BoundaryCondition(Flux, nothing))</code></pre><p>Construct <code>FieldBoundaryConditions</code> with <code>Periodic</code> boundary conditions in the x direction and specified <code>north</code> (+y), <code>south</code> (-y), <code>top</code> (+z) and <code>bottom</code> (-z) boundary conditions for u, v, and tracer fields.</p><p><code>ChannelBCs</code> cannot be applied to the the vertical velocity w.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L256-L267">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.ChannelSolutionBCs-Tuple{}" href="#Oceananigans.ChannelSolutionBCs-Tuple{}"><code>Oceananigans.ChannelSolutionBCs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ChannelSolutionBCs(u=ChannelBCs(), ...)</code></pre><p>Construct <code>SolutionBoundaryConditions</code> for a reentrant channel model configuration with solution fields <code>u</code>, <code>v</code>, <code>w</code>, <code>T</code>, and <code>S</code> specified by keyword arguments.</p><p>By default <code>ChannelBCs</code> are applied to <code>u</code>, <code>v</code>, <code>T</code>, and <code>S</code> and <code>ChannelBCs(top=NoPenetrationBC(), bottom=NoPenetrationBC())</code> is applied to <code>w</code>.</p><p>Use <code>ChannelBCs</code> when constructing non-default boundary conditions for <code>u</code>, <code>v</code>, <code>w</code>, <code>T</code>, <code>S</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L318-L328">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.HorizontallyPeriodicBCs-Tuple{}" href="#Oceananigans.HorizontallyPeriodicBCs-Tuple{}"><code>Oceananigans.HorizontallyPeriodicBCs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">HorizontallyPeriodicBCs(;   top = BoundaryCondition(Flux, nothing),
                         bottom = BoundaryCondition(Flux, nothing))</code></pre><p>Construct <code>FieldBoundaryConditions</code> with <code>Periodic</code> boundary conditions in the x and y directions and specified <code>top</code> (+z) and <code>bottom</code> (-z) boundary conditions for u, v, and tracer fields.</p><p><code>HorizontallyPeriodicBCs</code> cannot be applied to the the vertical velocity w.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L236-L245">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.HorizontallyPeriodicSolutionBCs-Tuple{}" href="#Oceananigans.HorizontallyPeriodicSolutionBCs-Tuple{}"><code>Oceananigans.HorizontallyPeriodicSolutionBCs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">HorizontallyPeriodicSolutionBCs(u=HorizontallyPeriodicBCs(), ...)</code></pre><p>Construct <code>SolutionBoundaryConditions</code> for a horizontally-periodic model configuration with solution fields <code>u</code>, <code>v</code>, <code>w</code>, <code>T</code>, and <code>S</code> specified by keyword arguments.</p><p>By default <code>HorizontallyPeriodicBCs</code> are applied to <code>u</code>, <code>v</code>, <code>T</code>, and <code>S</code> and <code>HorizontallyPeriodicBCs(top=NoPenetrationBC(), bottom=NoPenetrationBC())</code> is applied to <code>w</code>.</p><p>Use <code>HorizontallyPeriodicBCs</code> when constructing non-default boundary conditions for <code>u</code>, <code>v</code>, <code>w</code>, <code>T</code>, <code>S</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L298-L308">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.SolutionBoundaryConditions-Tuple{Any,Any}" href="#Oceananigans.SolutionBoundaryConditions-Tuple{Any,Any}"><code>Oceananigans.SolutionBoundaryConditions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">SolutionBoundaryConditions(tracers, proposal_bcs)</code></pre><p>Construct a <code>NamedTuple</code> of <code>FieldBoundaryConditions</code> for a model with fields <code>u</code>, <code>v</code>, <code>w</code>, and <code>tracers</code> from the proposal boundary conditions <code>proposal_bcs</code>, which must contain the boundary conditions on <code>u</code>, <code>v</code>, and <code>w</code> and may contain some or all of the boundary conditions on <code>tracers</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/boundary_conditions.jl#L287-L294">source</a></section></article><h2 id="Buoyancy-1"><a class="docs-heading-anchor" href="#Buoyancy-1">Buoyancy</a><a class="docs-heading-anchor-permalink" href="#Buoyancy-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.BuoyancyTracer" href="#Oceananigans.BuoyancyTracer"><code>Oceananigans.BuoyancyTracer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BuoyancyTracer &lt;: AbstractBuoyancy{Nothing}</code></pre><p>Type indicating that the tracer <code>b</code> represents buoyancy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.LinearEquationOfState" href="#Oceananigans.LinearEquationOfState"><code>Oceananigans.LinearEquationOfState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LinearEquationOfState{FT} &lt;: AbstractEquationOfState</code></pre><p>Linear equation of state for seawater.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L166-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.LinearEquationOfState" href="#Oceananigans.LinearEquationOfState"><code>Oceananigans.LinearEquationOfState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LinearEquationOfState([FT=Float64;] α=1.67e-4, β=7.80e-4)</code></pre><p>Returns parameters for a linear equation of state for seawater with thermal expansion coefficient <code>α</code> [K⁻¹] and haline contraction coefficient <code>β</code> [ppt⁻¹]. The buoyancy perturbation associated with a linear equation of state is</p><div>\[    b = g (α T - β S)\]</div><p>Default constants are taken from Table 1.2 (page 33) of Vallis, &quot;Atmospheric and Oceanic Fluid Dynamics: Fundamentals and Large-Scale Circulation&quot; (2ed, 2017).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L176-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.RoquetIdealizedNonlinearEquationOfState" href="#Oceananigans.RoquetIdealizedNonlinearEquationOfState"><code>Oceananigans.RoquetIdealizedNonlinearEquationOfState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RoquetIdealizedNonlinearEquationOfState{F, C, T} &lt;: AbstractNonlinearEquationOfState</code></pre><p>Parameters associated with the idealized nonlinear equation of state proposed by Roquet et al., &quot;Defining a Simplified yet &#39;Realistic&#39; Equation of State for Seawater&quot;, Journal of Physical Oceanography (2015).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L255-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.RoquetIdealizedNonlinearEquationOfState" href="#Oceananigans.RoquetIdealizedNonlinearEquationOfState"><code>Oceananigans.RoquetIdealizedNonlinearEquationOfState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RoquetIdealizedNonlinearEquationOfState([FT=Float64,] flavor, ρ₀=1024.6,
                                        polynomial_coeffs=optimized_roquet_coeffs[flavor])</code></pre><p>Returns parameters for the idealized polynomial nonlinear equation of state with reference density <code>ρ₀</code> and <code>polynomial_coeffs</code> proposed by Roquet et al., &quot;Defining a Simplified yet &#39;Realistic&#39; Equation of State for Seawater&quot;, Journal of Physical Oceanography (2015). The default reference density is <code>ρ₀ = 1024.6 kg m⁻³</code>, the average surface density of seawater in the world ocean.</p><p>The <code>flavor</code> of the nonlinear equation of state is a symbol that selects a set of optimized polynomial coefficients defined in Table 2 of Roquet et al., &quot;Defining a Simplified yet &#39;Realistic&#39; Equation of State for Seawater&quot;, Journal of Physical Oceanography (2015), and further discussed in the text surrounding equations (12)–(15). The optimization minimizes errors in estimated horizontal density gradient estiamted from climatological temperature and salinity distributions between the 5 simplified forms chosen by Roquet et. al and the full-fledged <a href="http://www.teos-10.org">TEOS-10</a> equation of state.</p><p>The equations of state define the density anomaly <code>ρ′</code>, and have the polynomial form</p><pre><code class="language-none">`ρ′(T, S, D) = Σᵢⱼₐ Rᵢⱼₐ Tⁱ Sʲ Dᵃ`,</code></pre><p>where <code>T</code> is conservative temperature, <code>S</code> is absolute salinity, and <code>D</code> is the geopotential depth, currently just <code>D = -z</code>. The <code>Rᵢⱼₐ</code> are constant coefficients.</p><p><strong>Flavors of idealized nonlinear equations of state</strong></p><pre><code class="language-none">- `:linear`: a linear equation of state, `ρ′ = R₁₀₀ * T + R₀₁₀ * S`

- `:cabbeling`: includes quadratic temperature term,
                `ρ′ = R₁₀₀ * T + R₀₁₀ * S + R₀₂₀ * T^2`

- `:cabbeling_thermobaricity`: includes &#39;thermobaricity&#39; term,
                               `ρ′ = R₁₀₀ * T + R₀₁₀ * S + R₀₂₀ * T^2 + R₀₁₁ * T * D`

- `:freezing`: same as `:cabbeling_thermobaricity` with modified constants to increase
               accuracy near freezing

- `:second_order`: includes quadratic salinity, halibaricity, and thermohaline term,
                   `ρ′ = R₁₀₀ * T + R₀₁₀ * S + R₀₂₀ * T^2 + R₀₁₁ * T * D`
                         + R₂₀₀ * S^2 + R₁₀₁ * S * D + R₁₁₀ * S * T`</code></pre><p><strong>Example</strong></p><p>julia&gt; using Oceananigans</p><p>julia&gt; eos = Oceananigans.RoquetIdealizedNonlinearEquationOfState(:cabbeling);</p><p>julia&gt; eos.polynomial_coeffs (R₀₁₀ = -0.0844, R₁₀₀ = 0.7718, R₀₂₀ = -0.004561, R₀₁₁ = 0.0, R₂₀₀ = 0.0, R₁₀₁ = 0.0, R₁₁₀ = 0.0)</p><p><strong>References</strong></p><pre><code class="language-none">- Roquet et al., &quot;Defining a Simplified yet &#39;Realistic&#39; Equation of State for
  Seawater&quot;, Journal of Physical Oceanography (2015).

- &quot;Thermodynamic Equation of State for Seawater&quot; (TEOS-10), http://www.teos-10.org</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L269-L330">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.SeawaterBuoyancy" href="#Oceananigans.SeawaterBuoyancy"><code>Oceananigans.SeawaterBuoyancy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SeawaterBuoyancy{G, EOS} &lt;: AbstractBuoyancy{EOS}</code></pre><p>Buoyancy model for temperature- and salt-stratified seawater.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.SeawaterBuoyancy" href="#Oceananigans.SeawaterBuoyancy"><code>Oceananigans.SeawaterBuoyancy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SeawaterBuoyancy([FT=Float64;] gravitational_acceleration = g_Earth,
                              equation_of_state = LinearEquationOfState(FT))</code></pre><p>Returns parameters for a temperature- and salt-stratified seawater buoyancy model with a <code>gravitational_acceleration</code> constant (typically called &#39;g&#39;), and an <code>equation_of_state</code> that related temperature and salinity (or conservative temperature and absolute salinity) to density anomalies and buoyancy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/buoyancy.jl#L68-L76">source</a></section></article><h2 id="Clock-1"><a class="docs-heading-anchor" href="#Clock-1">Clock</a><a class="docs-heading-anchor-permalink" href="#Clock-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Clock" href="#Oceananigans.Clock"><code>Oceananigans.Clock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Clock{T&lt;:Number}

Clock{T}(time, iteration)</code></pre><p>Keeps track of the current <code>time</code> and <code>iteration</code> number.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/clock.jl#L3-L9">source</a></section></article><h2 id="Coriolis-1"><a class="docs-heading-anchor" href="#Coriolis-1">Coriolis</a><a class="docs-heading-anchor-permalink" href="#Coriolis-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.BetaPlane" href="#Oceananigans.BetaPlane"><code>Oceananigans.BetaPlane</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BetaPlane{T} &lt;: AbstractRotation</code></pre><p>A parameter object for meridionally increasing Coriolis parameter (<code>f = f₀ + βy</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/coriolis.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.BetaPlane" href="#Oceananigans.BetaPlane"><code>Oceananigans.BetaPlane</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BetaPlane([T=Float64;] f₀=nothing, β=nothing,
                       rotation_rate=Ω_Earth, latitude=nothing, radius=R_Earth)</code></pre><p>A parameter object for meridionally increasing Coriolis parameter (<code>f = f₀ + βy</code>).</p><p>The user may specify both <code>f₀</code> and <code>β</code>, or the three parameters <code>rotation_rate</code>, <code>latitude</code>, and <code>radius</code> that specify the rotation rate and radius of a planet, and the central latitude at which the <code>β</code>-plane approximation is to be made.</p><p>By default, the <code>rotation_rate</code> and planet <code>radius</code> is assumed to be Earth&#39;s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/coriolis.jl#L85-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FPlane" href="#Oceananigans.FPlane"><code>Oceananigans.FPlane</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FPlane{FT} &lt;: AbstractRotation</code></pre><p>A parameter object for constant rotation around a vertical axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/coriolis.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FPlane" href="#Oceananigans.FPlane"><code>Oceananigans.FPlane</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FPlane([FT=Float64;] f=nothing, rotation_rate=Ω_Earth, latitude=nothing)</code></pre><p>Returns a parameter object for constant rotation at the angular frequency <code>f/2</code>, and therefore with background vorticity <code>f</code>, around a vertical axis. If <code>f</code> is not specified, it is calculated from <code>rotation_rate</code> and <code>latitude</code> according to the relation `f = 2<em>rotation_rate</em>sind(latitude).</p><p>By default, <code>rotation_rate</code> is assumed to be Earth&#39;s.</p><p>Also called <code>FPlane</code>, after the &quot;f-plane&quot; approximation for the local effect of a planet&#39;s rotation in a planar coordinate system tangent to the planet&#39;s surface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/coriolis.jl#L34-L46">source</a></section></article><h2 id="Diagnostics-1"><a class="docs-heading-anchor" href="#Diagnostics-1">Diagnostics</a><a class="docs-heading-anchor-permalink" href="#Diagnostics-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.HorizontalAverage" href="#Oceananigans.Diagnostics.HorizontalAverage"><code>Oceananigans.Diagnostics.HorizontalAverage</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">HorizontalAverage{F, R, P, I, Ω} &lt;: AbstractDiagnostic</code></pre><p>A diagnostic for computing horizontal average of a field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/horizontal_average.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.HorizontalAverage-Tuple{Any}" href="#Oceananigans.Diagnostics.HorizontalAverage-Tuple{Any}"><code>Oceananigans.Diagnostics.HorizontalAverage</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">HorizontalAverage(model, field; frequency=nothing, interval=nothing, return_type=Array)</code></pre><p>Construct a <code>HorizontalAverage</code> of <code>field</code>.</p><p>After the horizontal average is computed it will be stored in the <code>result</code> property.</p><p>The <code>HorizontalAverage</code> can be used as a callable object that computes and returns the horizontal average.</p><p>A <code>frequency</code> or <code>interval</code> (or both) can be passed to indicate how often to run this diagnostic if it is part of <code>model.diagnostics</code>. <code>frequency</code> is a number of iterations while <code>interval</code> is a time interval in units of <code>model.clock.time</code>.</p><p>A <code>return_type</code> can be used to specify the type returned when the <code>HorizontalAverage</code> is used as a callable object. The default <code>return_type=Array</code> is useful when running a GPU model and you want to save the output to disk by passing it to an output writer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/horizontal_average.jl#L18-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.Timeseries" href="#Oceananigans.Diagnostics.Timeseries"><code>Oceananigans.Diagnostics.Timeseries</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Timeseries{D, Ω, I, T, TT} &lt;: AbstractDiagnostic</code></pre><p>A diagnostic for collecting and storing timeseries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/timeseries.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.Timeseries-Tuple{Any,Any}" href="#Oceananigans.Diagnostics.Timeseries-Tuple{Any,Any}"><code>Oceananigans.Diagnostics.Timeseries</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Timeseries(diagnostic, model; frequency=nothing, interval=nothing)</code></pre><p>A <code>Timeseries</code> <code>Diagnostic</code> that records a time series of <code>diagnostic(model)</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; model = Model(grid=RegularCartesianGrid(size=(16, 16, 16), length=(1, 1, 1)));

julia&gt; max_u = Timeseries(FieldMaximum(abs, model.velocities.u), model; frequency=1)

julia&gt; model.diagnostics[:max_u] = max_u; data(model.velocities.u) .= π; time_step!(model, Nt=3, Δt=1e-16)

julia&gt; max_u.data
3-element Array{Float64,1}:
 3.141592653589793
 3.1415926025389127
 3.1415925323439517</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/timeseries.jl#L14-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.Timeseries-Tuple{NamedTuple,Any}" href="#Oceananigans.Diagnostics.Timeseries-Tuple{NamedTuple,Any}"><code>Oceananigans.Diagnostics.Timeseries</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Timeseries(diagnostics::NamedTuple, model; frequency=nothing, interval=nothing)</code></pre><p>A <code>Timeseries</code> <code>Diagnostic</code> that records a <code>NamedTuple</code> of time series of <code>diag(model)</code> for each <code>diag</code> in <code>diagnostics</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; model = Model(grid=RegularCartesianGrid(size=(16, 16, 16), length=(1, 1, 1))); Δt = 1.0;

julia&gt; cfl = Timeseries((adv=AdvectiveCFL(Δt), diff=DiffusiveCFL(Δt)), model; frequency=1);

julia&gt; model.diagnostics[:cfl] = cfl; time_step!(model, Nt=3, Δt=Δt)

julia&gt; cfl.data
(adv = [0.0, 0.0, 0.0, 0.0], diff = [0.0002688, 0.0002688, 0.0002688, 0.0002688])

julia&gt; cfl.adv
4-element Array{Float64,1}:
 0.0
 0.0
 0.0
 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/timeseries.jl#L49-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.CFL" href="#Oceananigans.Diagnostics.CFL"><code>Oceananigans.Diagnostics.CFL</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">CFL{D, S}</code></pre><p>An object for computing the Courant-Freidrichs-Lewy (CFL) number.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/cfl.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.CFL-Tuple{Any}" href="#Oceananigans.Diagnostics.CFL-Tuple{Any}"><code>Oceananigans.Diagnostics.CFL</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">CFL(Δt [, timescale=Oceananigans.cell_advection_timescale])</code></pre><p>Returns an object for computing the Courant-Freidrichs-Lewy (CFL) number associated with time step or <code>TimeStepWizard</code> <code>Δt</code> and <code>timescale</code>.</p><p>See also <code>AdvectiveCFL</code> and <code>DiffusiveCFL</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/cfl.jl#L14-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.AdvectiveCFL-Tuple{Any}" href="#Oceananigans.Diagnostics.AdvectiveCFL-Tuple{Any}"><code>Oceananigans.Diagnostics.AdvectiveCFL</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">AdvectiveCFL(Δt)</code></pre><p>Returns an object for computing the Courant-Freidrichs-Lewy (CFL) number associated with time step or <code>TimeStepWizard</code> <code>Δt</code> and the time scale for advection across a cell.</p><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; model = Model(grid=RegularCartesianGrid(size=(16, 16, 16), length=(8, 8, 8)));

julia&gt; cfl = AdvectiveCFL(1.0);

julia&gt; data(model.velocities.u) .= π;

julia&gt; cfl(model)
6.283185307179586</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/cfl.jl#L27-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.DiffusiveCFL-Tuple{Any}" href="#Oceananigans.Diagnostics.DiffusiveCFL-Tuple{Any}"><code>Oceananigans.Diagnostics.DiffusiveCFL</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">DiffusiveCFL(Δt)</code></pre><p>Returns an object for computing the diffusive Courant-Freidrichs-Lewy (CFL) number associated with time step or <code>TimeStepWizard</code> <code>Δt</code> and the time scale for diffusion across a cell associated with <code>model.closure</code>.</p><p>The maximum diffusive CFL number among viscosity and all tracer diffusivities is returned.</p><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; model = Model(grid=RegularCartesianGrid(size=(16, 16, 16), length=(1, 1, 1)));

julia&gt; dcfl = DiffusiveCFL(0.1);

julia&gt; dcfl(model)
2.688e-5</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/cfl.jl#L49-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.FieldMaximum" href="#Oceananigans.Diagnostics.FieldMaximum"><code>Oceananigans.Diagnostics.FieldMaximum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FieldMaximum(mapping, field)</code></pre><p>An object for calculating the maximum of a <code>mapping</code> function applied element-wise to <code>field</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia">julia&gt; model = Model(grid=RegularCartesianGrid(size=(16, 16, 16), length=(1, 1, 1)));

julia&gt; max_abs_u = FieldMaximum(abs, model.velocities.u);

julia&gt; max_w² = FieldMaximum(x-&gt;x^2, model.velocities.w);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/field_maximum.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.NaNChecker" href="#Oceananigans.Diagnostics.NaNChecker"><code>Oceananigans.Diagnostics.NaNChecker</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NaNChecker{F} &lt;: AbstractDiagnostic</code></pre><p>A diagnostic that checks for <code>NaN</code> values and aborts the simulation if any are found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/nan_checker.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Diagnostics.NaNChecker-Tuple{Any}" href="#Oceananigans.Diagnostics.NaNChecker-Tuple{Any}"><code>Oceananigans.Diagnostics.NaNChecker</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">NaNChecker(model; frequency, fields)</code></pre><p>Construct a <code>NaNChecker</code> for <code>model</code>. <code>fields</code> should be a <code>Dict{Symbol,Field}</code>. A <code>frequency</code> should be passed to indicate how often to check for NaNs (in number of iterations).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Diagnostics/nan_checker.jl#L11-L17">source</a></section></article><h2 id="Fields-1"><a class="docs-heading-anchor" href="#Fields-1">Fields</a><a class="docs-heading-anchor-permalink" href="#Fields-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Field" href="#Oceananigans.Field"><code>Oceananigans.Field</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Field{X, Y, Z, A, G} &lt;: AbstractLocatedField{X, Y, Z, A, G}</code></pre><p>A field defined at the location (<code>X</code>, <code>Y</code>, <code>Z</code>) which can be either <code>Cell</code> or <code>Face</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Field-Tuple{Any,Any,Any,Oceananigans.AbstractArchitecture,Any}" href="#Oceananigans.Field-Tuple{Any,Any,Any,Oceananigans.AbstractArchitecture,Any}"><code>Oceananigans.Field</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Field(X, Y, Z, arch::AbstractArchitecture, grid)</code></pre><p>Construct a <code>Field</code> on architecture <code>arch</code> and <code>grid</code> at location <code>X</code>, <code>Y</code>, <code>Z</code>, where each of <code>X, Y, Z</code> is <code>Cell</code> or <code>Face</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L47-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Field-Tuple{Tuple,AbstractArray,Any}" href="#Oceananigans.Field-Tuple{Tuple,AbstractArray,Any}"><code>Oceananigans.Field</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Field(L::Tuple, data::AbstractArray, grid)</code></pre><p>Construct a <code>Field</code> on <code>grid</code> using the array <code>data</code> with location defined by the tuple <code>L</code> of length 3 whose elements are <code>Cell</code> or <code>Face</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L30-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Field-Tuple{Tuple,Oceananigans.AbstractArchitecture,Any}" href="#Oceananigans.Field-Tuple{Tuple,Oceananigans.AbstractArchitecture,Any}"><code>Oceananigans.Field</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Field(L::Tuple, arch::AbstractArchitecture, grid)</code></pre><p>Construct a <code>Field</code> on architecture <code>arch</code> and <code>grid</code> at location <code>L</code>, where <code>L</code> is a tuple of <code>Cell</code> or <code>Face</code> types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L38-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.CellField-Tuple{Any,Any,Any}" href="#Oceananigans.CellField-Tuple{Any,Any,Any}"><code>Oceananigans.CellField</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">CellField([T=eltype(grid)], arch, grid)</code></pre><p>Return a <code>Field{Cell, Cell, Cell}</code> on architecture <code>arch</code> and <code>grid</code>. Used for tracers and pressure fields.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FaceFieldX-Tuple{Any,Any,Any}" href="#Oceananigans.FaceFieldX-Tuple{Any,Any,Any}"><code>Oceananigans.FaceFieldX</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">FaceFieldX([T=eltype(grid)], arch, grid)</code></pre><p>Return a <code>Field{Face, Cell, Cell}</code> on architecture <code>arch</code> and <code>grid</code>. Used for the x-velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L63-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FaceFieldY-Tuple{Any,Any,Any}" href="#Oceananigans.FaceFieldY-Tuple{Any,Any,Any}"><code>Oceananigans.FaceFieldY</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">FaceFieldY([T=eltype(grid)], arch, grid)</code></pre><p>Return a <code>Field{Cell, Face, Cell}</code> on architecture <code>arch</code> and <code>grid</code>. Used for the y-velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L71-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.FaceFieldZ-Tuple{Any,Any,Any}" href="#Oceananigans.FaceFieldZ-Tuple{Any,Any,Any}"><code>Oceananigans.FaceFieldZ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">FaceFieldZ([T=eltype(grid)], arch, grid)</code></pre><p>Return a <code>Field{Cell, Cell, Face}</code> on architecture <code>arch</code> and <code>grid</code>. Used for the z-velocity field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L79-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.interior-Tuple{Field}" href="#Oceananigans.interior-Tuple{Field}"><code>Oceananigans.interior</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a view over the interior points of the <code>field.data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.set!-Tuple{Oceananigans.AbstractField{A,G} where G where A&lt;:(OffsetArrays.OffsetArray{T,D,#s70} where #s70&lt;:Array where D where T),Array}" href="#Oceananigans.set!-Tuple{Oceananigans.AbstractField{A,G} where G where A&lt;:(OffsetArrays.OffsetArray{T,D,#s70} where #s70&lt;:Array where D where T),Array}"><code>Oceananigans.set!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Set the CPU field <code>u</code> to the array <code>v</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.set!-Tuple{Oceananigans.AbstractField{A,G} where G where A&lt;:(OffsetArrays.OffsetArray{T,D,#s70} where #s70&lt;:Array where D where T),Function}" href="#Oceananigans.set!-Tuple{Oceananigans.AbstractField{A,G} where G where A&lt;:(OffsetArrays.OffsetArray{T,D,#s70} where #s70&lt;:Array where D where T),Function}"><code>Oceananigans.set!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Set the CPU field <code>u</code> data to the function <code>f(x, y, z)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L200">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.set!-Tuple{Oceananigans.AbstractModel}" href="#Oceananigans.set!-Tuple{Oceananigans.AbstractModel}"><code>Oceananigans.set!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set!(model; kwargs...)</code></pre><p>Set velocity and tracer fields of <code>model</code>. The keyword arguments <code>kwargs...</code> take the form <code>name=data</code>, where <code>name</code> refers to one of the fields of <code>model.velocities</code> or <code>model.tracers</code>, and the <code>data</code> may be an array, a function with arguments <code>(x, y, z)</code>, or any data type for which a <code>set!(ϕ::AbstractField, data)</code> function exists.</p><p><strong>Example</strong></p><pre><code class="language-julia">model = Model(grid=RegularCartesianGrid(size=(32, 32, 32), length=(1, 1, 1))

# Set u to a parabolic function of z, v to random numbers damped
# at top and bottom, and T to some silly array of half zeros,
# half random numbers.

u₀(x, y, z) = z/model.grid.Lz * (1 + z/model.grid.Lz)
v₀(x, y, z) = 1e-3 * rand() * u₀(x, y, z)

T₀ = rand(size(model.grid)...)
T₀[T₀ .&lt; 0.5] .= 0

set!(model, u=u₀, v=v₀, T=T₀)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/fields.jl#L211-L237">source</a></section></article><h2 id="Forcing-1"><a class="docs-heading-anchor" href="#Forcing-1">Forcing</a><a class="docs-heading-anchor-permalink" href="#Forcing-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.SimpleForcing" href="#Oceananigans.SimpleForcing"><code>Oceananigans.SimpleForcing</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SimpleForcing{X, Y, Z, F, P}</code></pre><p>Callable object for specifying &#39;simple&#39; forcings of <code>x, y, z, t</code> and optionally <code>parameters</code> of type <code>P</code> at location <code>X, Y, Z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/forcing.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.SimpleForcing-Tuple{Tuple,Function}" href="#Oceananigans.SimpleForcing-Tuple{Tuple,Function}"><code>Oceananigans.SimpleForcing</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">SimpleForcing([location=(Cell, Cell, Cell),] forcing; parameters=nothing)</code></pre><p>Construct forcing for a field at <code>location</code> using <code>forcing::Function</code>, and optionally with <code>parameters</code>. If <code>parameters=nothing</code>, <code>forcing</code> must have the signature</p><pre><code class="language-none">`forcing(x, y, z, t)`;</code></pre><p>otherwise it must have the signature</p><pre><code class="language-none">`forcing(x, y, z, t, parameters)`.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia">julia&gt; const a = 2.1

julia&gt; fun_forcing(x, y, z, t) = a * exp(z) * cos(t)

julia&gt; u_forcing = SimpleForcing(fun_forcing)

julia&gt; parameterized_forcing(x, y, z, t, p) = p.μ * exp(z/p.λ) * cos(p.ω*t)

julia&gt; v_forcing = SimpleForcing(parameterized_forcing, parameters=(μ=42, λ=0.1, ω=π))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/forcing.jl#L15-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.ModelForcing-Tuple{}" href="#Oceananigans.ModelForcing-Tuple{}"><code>Oceananigans.ModelForcing</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ModelForcing(; u=zeroforcing, v=zeroforcing, w=zeroforcing, tracer_forcings...)</code></pre><p>Return a named tuple of forcing functions for each solution field.</p><p><strong>Example</strong></p><p>julia&gt; u_forcing = SimpleForcing((x, y, z, t) -&gt; exp(z) * cos(t))</p><p>julia&gt; model = Model(forcing=ModelForcing(u=u_forcing))</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/forcing.jl#L59-L70">source</a></section></article><h2 id="Grids-1"><a class="docs-heading-anchor" href="#Grids-1">Grids</a><a class="docs-heading-anchor-permalink" href="#Grids-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Grids.RegularCartesianGrid" href="#Oceananigans.Grids.RegularCartesianGrid"><code>Oceananigans.Grids.RegularCartesianGrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RegularCartesianGrid{FT&lt;:AbstractFloat, R&lt;:AbstractRange} &lt;: AbstractGrid{FT}</code></pre><p>A Cartesian grid with with constant grid spacings <code>Δx</code>, <code>Δy</code>, and <code>Δz</code> between cell centers and cell faces.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Grids/regular_cartesian_grid.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Grids.RegularCartesianGrid" href="#Oceananigans.Grids.RegularCartesianGrid"><code>Oceananigans.Grids.RegularCartesianGrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RegularCartesianGrid([FT=Float64]; size, length, x, y, z)</code></pre><p>Creates a <code>RegularCartesianGrid</code> with <code>size = (Nx, Ny, Nz)</code> grid points.</p><p>The physical length of the domain can be specified via <code>x</code>, <code>y</code>, and <code>z</code> keyword arguments indicating the left and right endpoints of each dimensions, e.g. <code>x=(-π, π)</code> or via the <code>length</code> argument, e.g. <code>length=(Lx, Ly, Lz)</code> which specifies the length of each dimension in which case 0 ≤ x ≤ Lx, 0 ≤ y ≤ Ly, and -Lz ≤ z ≤ 0.</p><p>Constants are stored using floating point values of type <code>FT</code>.</p><p><strong>Grid properties</strong></p><ul><li><code>(xC, yC, zC)::AbstractRange</code>: (x, y, z) coordinates of cell centers</li><li><code>(xF, yF, zF)::AbstractRange</code>: (x, y, z) coordinates of cell faces</li><li><code>(Hx, Hy, Hz)::Int</code>: Halo size in the (x, y, z)-direction</li><li><code>(Tx, Ty, Tz)::Int</code>: &quot;Total&quot; grid size (interior + halo points) in the (x, y, z)-direction</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia">julia&gt; grid = RegularCartesianGrid(size=(32, 32, 32), length=(1, 2, 3))
RegularCartesianGrid{Float64}
domain: x ∈ [0.0, 1.0], y ∈ [0.0, 2.0], z ∈ [0.0, -3.0]
  resolution (Nx, Ny, Nz) = (32, 32, 32)
   halo size (Hx, Hy, Hz) = (1, 1, 1)
grid spacing (Δx, Δy, Δz) = (0.03125, 0.0625, 0.09375)</code></pre><pre><code class="language-julia">julia&gt; grid = RegularCartesianGrid(Float32; size=(32, 32, 16), x=(0, 8), y=(-10, 10), z=(-π, π))
RegularCartesianGrid{Float32}
domain: x ∈ [0.0, 8.0], y ∈ [-10.0, 10.0], z ∈ [3.141592653589793, -3.141592653589793]
  resolution (Nx, Ny, Nz) = (32, 32, 16)
   halo size (Hx, Hy, Hz) = (1, 1, 1)
grid spacing (Δx, Δy, Δz) = (0.25f0, 0.625f0, 0.3926991f0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/Grids/regular_cartesian_grid.jl#L43-L80">source</a></section></article><h2 id="Models-1"><a class="docs-heading-anchor" href="#Models-1">Models</a><a class="docs-heading-anchor-permalink" href="#Models-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.Model-Tuple{}" href="#Oceananigans.Model-Tuple{}"><code>Oceananigans.Model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Model(;
               grid,
       architecture = CPU(),
         float_type = Float64,
            tracers = (:T, :S),
            closure = ConstantIsotropicDiffusivity(float_type, ν=ν₀, κ=κ₀),
              clock = Clock{float_type}(0, 0),
           buoyancy = SeawaterBuoyancy(float_type),
           coriolis = nothing,
      surface_waves = nothing,
            forcing = ModelForcing(),
boundary_conditions = HorizontallyPeriodicSolutionBCs(),
     output_writers = OrderedDict{Symbol, AbstractOutputWriter}(),
        diagnostics = OrderedDict{Symbol, AbstractDiagnostic}(),
         parameters = nothing,
         velocities = VelocityFields(architecture, grid),
          pressures = PressureFields(architecture, grid),
      diffusivities = TurbulentDiffusivities(architecture, grid, tracernames(tracers), closure),
        timestepper = :AdamsBashforth,
     poisson_solver = PoissonSolver(architecture, PoissonBCs(boundary_conditions), grid)
)</code></pre><p>Construct an <code>Oceananigans.jl</code> model on <code>grid</code>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>grid</code>: (required) The resolution and discrete geometry on which <code>model</code> is solved.</li><li><code>architecture</code>: <code>CPU()</code> or <code>GPU()</code>. The computer architecture used to time-step <code>model</code>.</li><li><code>float_type</code>: <code>Float32</code> or <code>Float64</code>. The floating point type used for <code>model</code> data.</li><li><code>closure</code>: The turbulence closure for <code>model</code>. See <code>TurbulenceClosures</code>.</li><li><code>buoyancy</code>: Buoyancy model parameters.</li><li><code>coriolis</code>: Parameters for the background rotation rate of the model.</li><li><code>forcing</code>: User-defined forcing functions that contribute to solution tendencies.</li><li><code>boundary_conditions</code>: User-defined boundary conditions for model fields. Can be either<code>SolutionBoundaryConditions</code> or <code>ModelBoundaryConditions</code>. See <code>BoundaryConditions</code>, <code>HorizontallyPeriodicSolutionBCs</code>, and <code>ChannelSolutionBCs</code>.</li><li><code>parameters</code>: User-defined parameters for use in user-defined forcing functions and boundary condition functions.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/models.jl#L27-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.ChannelModel-Tuple{}" href="#Oceananigans.ChannelModel-Tuple{}"><code>Oceananigans.ChannelModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ChannelModel(; kwargs...)</code></pre><p>Construct a <code>Model</code> with walls in the y-direction. This is done by imposing <code>FreeSlip</code> boundary conditions in the y-direction instead of <code>Periodic</code>.</p><p>kwargs are passed to the regular <code>Model</code> constructor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/models.jl#L122-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.NonDimensionalModel-Tuple{}" href="#Oceananigans.NonDimensionalModel-Tuple{}"><code>Oceananigans.NonDimensionalModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">NonDimensionalModel(; N, L, Re, Pr=0.7, Ro=Inf, float_type=Float64, kwargs...)</code></pre><p>Construct a &quot;Non-dimensional&quot; <code>Model</code> with resolution <code>N</code>, domain extent <code>L</code>, precision <code>float_type</code>, and the four non-dimensional numbers:</p><pre><code class="language-none">* `Re = U λ / ν` (Reynolds number)
* `Pr = U λ / κ` (Prandtl number)
* `Ro = U / f λ` (Rossby number)</code></pre><p>for characteristic velocity scale <code>U</code>, length-scale <code>λ</code>, viscosity <code>ν</code>, tracer diffusivity <code>κ</code>, and Coriolis parameter <code>f</code>. Buoyancy is scaled with <code>λ U²</code>, so that the Richardson number is <code>Ri=B</code>, where <code>B</code> is a non-dimensional buoyancy scale set by the user via initial conditions or forcing.</p><p>Note that <code>N</code>, <code>L</code>, and <code>Re</code> are required.</p><p>Additional <code>kwargs</code> are passed to the regular <code>Model</code> constructor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/models.jl#L133-L152">source</a></section></article><h2 id="Output-writers-1"><a class="docs-heading-anchor" href="#Output-writers-1">Output writers</a><a class="docs-heading-anchor-permalink" href="#Output-writers-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.FieldOutput" href="#Oceananigans.OutputWriters.FieldOutput"><code>Oceananigans.OutputWriters.FieldOutput</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FieldOutput([return_type=Array], field)</code></pre><p>Returns a <code>FieldOutput</code> type intended for use with the <code>JLD2OutputWriter</code>. Calling <code>FieldOutput(model)</code> returns <code>return_type(field.data.parent)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/jld2_output_writer.jl#L151-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.JLD2OutputWriter" href="#Oceananigans.OutputWriters.JLD2OutputWriter"><code>Oceananigans.OutputWriters.JLD2OutputWriter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">JLD2OutputWriter{F, I, O, IF, IN, KW} &lt;: AbstractOutputWriter</code></pre><p>An output writer for writing to JLD2 files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/jld2_output_writer.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.JLD2OutputWriter-Tuple{Any,Any}" href="#Oceananigans.OutputWriters.JLD2OutputWriter-Tuple{Any,Any}"><code>Oceananigans.OutputWriters.JLD2OutputWriter</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">JLD2OutputWriter(model, outputs; interval=nothing, frequency=nothing, dir=&quot;.&quot;,
                 prefix=&quot;&quot;, init=noinit, including=[:grid, :coriolis, :buoyancy, :closure],
                 part=1, max_filesize=Inf, force=false, async=false, verbose=false, jld2_kw=Dict{Symbol, Any}())</code></pre><p>Construct a <code>JLD2OutputWriter</code> that writes <code>label, func</code> pairs in <code>outputs</code> (which can be a <code>Dict</code> or <code>NamedTuple</code>) to a JLD2 file, where <code>label</code> is a symbol that labels the output and <code>func</code> is a function of the form <code>func(model)</code> that returns the data to be saved.</p><p><strong>Keyword arguments</strong></p><ul><li><code>frequency::Int</code>   : Save output every <code>n</code> model iterations.</li><li><code>interval::Int</code>    : Save output every <code>t</code> units of model clock time.</li><li><code>dir::String</code>      : Directory to save output to. Default: &quot;.&quot; (current working directory).</li><li><code>prefix::String</code>   : Descriptive filename prefixed to all output files. Default: &quot;&quot;.</li><li><code>init::Function</code>   : A function of the form <code>init(file, model)</code> that runs when a JLD2 output file is initialized.                      Default: <code>noinit(args...) = nothing</code>.</li><li><code>including::Array</code> : List of model properties to save with every file. By default, the grid, equation of state,                      Coriolis parameters, buoyancy parameters, and turbulence closure parameters are saved.</li><li><code>part::Int</code>        : The starting part number used if <code>max_filesize</code> is finite. Default: 1.</li><li><code>max_filesize::Int</code>: The writer will stop writing to the output file once the file size exceeds <code>max_filesize</code>, and                      write to a new one with a consistent naming scheme ending in <code>part1</code>, <code>part2</code>, etc. Defaults to                      <code>Inf</code>.</li><li><code>force::Bool</code>      : Remove existing files if their filenames conflict. Default: <code>false</code>.</li><li><code>async::Bool</code>      : Write output asynchronously. Default: <code>false</code>.</li><li><code>verbose::Bool</code>    : Log what the output writer is doing with statistics on compute/write times and file sizes.                      Default: <code>false</code>.</li><li><code>jld2_kw::Dict</code>    : Dict of kwargs to be passed to <code>jldopen</code> when data is written.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/jld2_output_writer.jl#L29-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.FieldOutputs-Tuple{Any}" href="#Oceananigans.OutputWriters.FieldOutputs-Tuple{Any}"><code>Oceananigans.OutputWriters.FieldOutputs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">FieldOutputs(fields)</code></pre><p>Returns a dictionary of <code>FieldOutput</code> objects with key, value pairs corresponding to each name and value in the <code>NamedTuple</code> <code>fields</code>. Intended for use with <code>JLD2OutputWriter</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia">julia&gt; output_writer = JLD2OutputWriter(model, FieldOutputs(model.velocities), frequency=1);

julia&gt; keys(output_writer.outputs)
Base.KeySet for a Dict{Symbol,FieldOutput{UnionAll,F} where F} with 3 entries. Keys:
  :w
  :v
  :u</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/jld2_output_writer.jl#L165-L184">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.NetCDFOutputWriter" href="#Oceananigans.OutputWriters.NetCDFOutputWriter"><code>Oceananigans.OutputWriters.NetCDFOutputWriter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NetCDFOutputWriter &lt;: AbstractOutputWriter</code></pre><p>An output writer for writing to NetCDF files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/netcdf_output_writer.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.write_grid-Tuple{Any}" href="#Oceananigans.OutputWriters.write_grid-Tuple{Any}"><code>Oceananigans.OutputWriters.write_grid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">write_grid(model; filename=&quot;grid.nc&quot;, mode=&quot;c&quot;,
           compression=0, attributes=Dict(), slice_kw...)</code></pre><p>Writes a grid.nc file that contains all the dimensions of the domain.</p><p><strong>Keyword arguments</strong></p><pre><code class="language-none">- `filename::String`  : File name to be saved under
- `mode::String`      : Netcdf file is opened in either clobber (&quot;c&quot;) or append (&quot;a&quot;) mode (Default: &quot;c&quot; )
- `compression::Int`  : Defines the compression level of data (0-9, default 0)
- `attributes::Dict`  : Attributes (default: Dict())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/netcdf_output_writer.jl#L35-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.write_output-Tuple{Any,NetCDFOutputWriter}" href="#Oceananigans.OutputWriters.write_output-Tuple{Any,NetCDFOutputWriter}"><code>Oceananigans.OutputWriters.write_output</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">write_output(model, OutputWriter)</code></pre><p>For internal user only. Writes output to the netcdf file at specified intervals. Increments the <code>Time</code> dimension every time an output is written to the file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/netcdf_output_writer.jl#L203-L207">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.Checkpointer" href="#Oceananigans.OutputWriters.Checkpointer"><code>Oceananigans.OutputWriters.Checkpointer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Checkpointer{I, T, P, A} &lt;: AbstractOutputWriter</code></pre><p>An output writer for checkpointing models to a JLD2 file from which models can be restored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/checkpointer.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.Checkpointer-Tuple{Any}" href="#Oceananigans.OutputWriters.Checkpointer-Tuple{Any}"><code>Oceananigans.OutputWriters.Checkpointer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Checkpointer(model; frequency=nothing, interval=nothing, dir=&quot;.&quot;, prefix=&quot;checkpoint&quot;,
                    force=false, verbose=false,
                    properties = [:architecture, :boundary_conditions, :grid, :clock,
                                  :eos, :constants, :closure, :velocities, :tracers,
                                  :timestepper])</code></pre><p>Construct a <code>Checkpointer</code> that checkpoints the model to a JLD2 file every so often as specified by <code>frequency</code> or <code>interval</code>. The <code>model.clock.iteration</code> is included in the filename to distinguish between multiple checkpoint files.</p><p>Note that extra model <code>properties</code> can be safely specified, but removing crucial properties such as <code>:velocities</code> will make restoring from the checkpoint impossible.</p><p>The checkpoint file is generated by serializing model properties to JLD2. However, functions cannot be serialized to disk (at least not with JLD2). So if a model property contains a reference somewhere in its hierarchy it will not be included in the checkpoint file (and you will have to manually restore them).</p><p><strong>Keyword arguments</strong></p><ul><li><code>frequency::Int</code>   : Save output every <code>n</code> model iterations.</li><li><code>interval::Int</code>    : Save output every <code>t</code> units of model clock time.</li><li><code>dir::String</code>      : Directory to save output to. Default: &quot;.&quot; (current working directory).</li><li><code>prefix::String</code>   : Descriptive filename prefixed to all output files. Default: &quot;checkpoint&quot;.</li><li><code>force::Bool</code>      : Remove existing files if their filenames conflict. Default: <code>false</code>.</li><li><code>verbose::Bool</code>    : Log what the output writer is doing with statistics on compute/write times and file sizes.                      Default: <code>false</code>.</li><li><code>properties::Array</code>: List of model properties to checkpoint.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/checkpointer.jl#L18-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.OutputWriters.restore_from_checkpoint-Tuple{Any}" href="#Oceananigans.OutputWriters.restore_from_checkpoint-Tuple{Any}"><code>Oceananigans.OutputWriters.restore_from_checkpoint</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">restore_from_checkpoint(filepath; kwargs=Dict())</code></pre><p>Restore a model from the checkpoint file stored at <code>filepath</code>. <code>kwargs</code> can be passed to the <code>Model</code> constructor, which can be especially useful if you need to manually restore forcing functions or boundary conditions that rely on functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/OutputWriters/checkpointer.jl#L107-L113">source</a></section></article><h2 id="Time-steppers-1"><a class="docs-heading-anchor" href="#Time-steppers-1">Time steppers</a><a class="docs-heading-anchor-permalink" href="#Time-steppers-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TimeSteppers.time_step!-Tuple{Any}" href="#Oceananigans.TimeSteppers.time_step!-Tuple{Any}"><code>Oceananigans.TimeSteppers.time_step!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">time_step!(model; Nt, Δt, kwargs...)</code></pre><p>Step forward <code>model</code> <code>Nt</code> time steps with step size <code>Δt</code>.</p><p>The kwargs are passed to the <code>time_step!</code> function specific to <code>model.timestepper</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TimeSteppers/TimeSteppers.jl#L68-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TimeSteppers.compute_w_from_continuity!-Tuple{Any}" href="#Oceananigans.TimeSteppers.compute_w_from_continuity!-Tuple{Any}"><code>Oceananigans.TimeSteppers.compute_w_from_continuity!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute the vertical velocity w by integrating the continuity equation from the bottom upwards</p><pre><code class="language-none">`w^{n+1} = -∫ [∂/∂x (u^{n+1}) + ∂/∂y (v^{n+1})] dz`</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TimeSteppers/kernels.jl#L312-L316">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TimeSteppers.AdamsBashforthTimeStepper" href="#Oceananigans.TimeSteppers.AdamsBashforthTimeStepper"><code>Oceananigans.TimeSteppers.AdamsBashforthTimeStepper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AdamsBashforthTimeStepper(float_type, arch, grid, tracers, χ)</code></pre><p>Return an AdamsBashforthTimeStepper object with tendency fields on <code>arch</code> and <code>grid</code> and AB2 parameter <code>χ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TimeSteppers/adams_bashforth.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TimeSteppers.time_step!-Tuple{Model{#s262,E,A,G,T,B,R,SW,U,C,Φ,F,BCS,S,K,OW,DI,Θ} where Θ where DI where OW where K where S where BCS where F where Φ where C where U where SW where R where B where T where G where A&lt;:Oceananigans.AbstractArchitecture where E where #s262&lt;:AdamsBashforthTimeStepper,Any,Any}" href="#Oceananigans.TimeSteppers.time_step!-Tuple{Model{#s262,E,A,G,T,B,R,SW,U,C,Φ,F,BCS,S,K,OW,DI,Θ} where Θ where DI where OW where K where S where BCS where F where Φ where C where U where SW where R where B where T where G where A&lt;:Oceananigans.AbstractArchitecture where E where #s262&lt;:AdamsBashforthTimeStepper,Any,Any}"><code>Oceananigans.TimeSteppers.time_step!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">time_step!(model{&lt;:AdamsBashforthTimeStepper}, Nt, Δt; init_with_euler=true)</code></pre><p>Step forward <code>model</code> <code>Nt</code> time steps with step size <code>Δt</code> with an Adams-Bashforth timestepping method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TimeSteppers/adams_bashforth.jl#L33-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TimeSteppers.time_step!-Tuple{Model{#s262,E,A,G,T,B,R,SW,U,C,Φ,F,BCS,S,K,OW,DI,Θ} where Θ where DI where OW where K where S where BCS where F where Φ where C where U where SW where R where B where T where G where A&lt;:Oceananigans.AbstractArchitecture where E where #s262&lt;:AdamsBashforthTimeStepper,Any}" href="#Oceananigans.TimeSteppers.time_step!-Tuple{Model{#s262,E,A,G,T,B,R,SW,U,C,Φ,F,BCS,S,K,OW,DI,Θ} where Θ where DI where OW where K where S where BCS where F where Φ where C where U where SW where R where B where T where G where A&lt;:Oceananigans.AbstractArchitecture where E where #s262&lt;:AdamsBashforthTimeStepper,Any}"><code>Oceananigans.TimeSteppers.time_step!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Step forward one time step with a 2nd-order Adams-Bashforth method and pressure-correction substep.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TimeSteppers/adams_bashforth.jl#L56-L59">source</a></section></article><h2 id="Tubrulence-closures-1"><a class="docs-heading-anchor" href="#Tubrulence-closures-1">Tubrulence closures</a><a class="docs-heading-anchor-permalink" href="#Tubrulence-closures-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.AnisotropicMinimumDissipation" href="#Oceananigans.TurbulenceClosures.AnisotropicMinimumDissipation"><code>Oceananigans.TurbulenceClosures.AnisotropicMinimumDissipation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AnisotropicMinimumDissipation</code></pre><p>An alias for <code>VerstappenAnisotropicMinimumDissipation</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/TurbulenceClosures.jl#L187-L191">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.ConstantSmagorinsky" href="#Oceananigans.TurbulenceClosures.ConstantSmagorinsky"><code>Oceananigans.TurbulenceClosures.ConstantSmagorinsky</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ConstantSmagorinsky</code></pre><p>An alias for <code>SmagorinskyLilly</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/TurbulenceClosures.jl#L194-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.IsotropicViscosity" href="#Oceananigans.TurbulenceClosures.IsotropicViscosity"><code>Oceananigans.TurbulenceClosures.IsotropicViscosity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">IsotropicViscosity{FT} &lt;: TurbulenceClosure{FT}</code></pre><p>Abstract supertype for turbulence closures that are defined by an isotropic viscosity and isotropic diffusivities with model parameters stored as properties of type <code>FT</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/TurbulenceClosures.jl#L66-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₁ⱼ-Tuple{Any,Any,Any,Any,IsotropicViscosity,Any,Any}" href="#Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₁ⱼ-Tuple{Any,Any,Any,Any,IsotropicViscosity,Any,Any}"><code>Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₁ⱼ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂ⱼ_2ν_Σ₁ⱼ(i, j, k, grid, closure, U, diffusivities)</code></pre><p>Return the <span>$x$</span>-component of the turbulent diffusive flux divergence:</p><p><code>∂x(2 ν Σ₁₁) + ∂y(2 ν Σ₁₁) + ∂z(2 ν Σ₁₁)</code></p><p>at the location <code>fcc</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/closure_operators.jl#L107-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₂ⱼ-Tuple{Any,Any,Any,Any,IsotropicViscosity,Any,Any}" href="#Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₂ⱼ-Tuple{Any,Any,Any,Any,IsotropicViscosity,Any,Any}"><code>Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₂ⱼ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂ⱼ_2ν_Σ₂ⱼ(i, j, k, grid, closure, U, diffusivities)</code></pre><p>Return the <span>$y$</span>-component of the turbulent diffusive flux divergence:</p><p><code>∂x(2 ν Σ₂₁) + ∂y(2 ν Σ₂₂) + ∂z(2 ν Σ₂₂)</code></p><p>at the location <code>ccf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/closure_operators.jl#L122-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₃ⱼ-Tuple{Any,Any,Any,Any,IsotropicViscosity,Any,Any}" href="#Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₃ⱼ-Tuple{Any,Any,Any,Any,IsotropicViscosity,Any,Any}"><code>Oceananigans.TurbulenceClosures.∂ⱼ_2ν_Σ₃ⱼ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂ⱼ_2ν_Σ₃ⱼ(i, j, k, grid, closure, diffusivities)</code></pre><p>Return the <span>$z$</span>-component of the turbulent diffusive flux divergence:</p><p><code>∂x(2 ν Σ₃₁) + ∂y(2 ν Σ₃₂) + ∂z(2 ν Σ₃₃)</code></p><p>at the location <code>ccf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/closure_operators.jl#L137-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.cell_diffusion_timescale-Tuple{ConstantIsotropicDiffusivity,Any,Any}" href="#Oceananigans.TurbulenceClosures.cell_diffusion_timescale-Tuple{ConstantIsotropicDiffusivity,Any,Any}"><code>Oceananigans.TurbulenceClosures.cell_diffusion_timescale</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the time-scale for diffusion on a regular grid across a single grid cell.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_diagnostics.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.AnisotropicBiharmonicDiffusivity" href="#Oceananigans.TurbulenceClosures.AnisotropicBiharmonicDiffusivity"><code>Oceananigans.TurbulenceClosures.AnisotropicBiharmonicDiffusivity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AnisotropicBiharmonicDiffusivity{FT, KH, KV}</code></pre><p>Parameters for anisotropic biharmonic diffusivity models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/anisotropic_biharmonic_diffusivity.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.AnisotropicBiharmonicDiffusivity" href="#Oceananigans.TurbulenceClosures.AnisotropicBiharmonicDiffusivity"><code>Oceananigans.TurbulenceClosures.AnisotropicBiharmonicDiffusivity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AnisotropicBiharmonicDiffusivity(; νh, νv, κh, κv)</code></pre><p>Returns parameters for a fourth-order, anisotropic biharmonic diffusivity closure with constant horizontal and vertical biharmonic viscosities <code>νh</code>, <code>νv</code> and constant horizontal and vertical tracer biharmonic diffusivities <code>κh</code>, <code>κv</code>. <code>κh</code> and <code>κv</code> may be <code>NamedTuple</code>s with fields corresponding to each tracer, or a single number to be a applied to all tracers. The tracer flux divergence associated with an anisotropic biharmonic diffusivity is, for example</p><div>\[    ∂ᵢ κᵢⱼ ∂ⱼc = (κh ∇⁴h + κv ∂⁴z) c\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/anisotropic_biharmonic_diffusivity.jl#L16-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.SmagorinskyLilly" href="#Oceananigans.TurbulenceClosures.SmagorinskyLilly"><code>Oceananigans.TurbulenceClosures.SmagorinskyLilly</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SmagorinskyLilly{FT} &lt;: AbstractSmagorinsky{FT}</code></pre><p>Parameters for the Smagorinsky-Lilly turbulence closure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/smagorinsky_lilly.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.SmagorinskyLilly" href="#Oceananigans.TurbulenceClosures.SmagorinskyLilly"><code>Oceananigans.TurbulenceClosures.SmagorinskyLilly</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SmagorinskyLilly([FT=Float64;] C=0.23, Pr=1, ν=1.05e-6, κ=1.46e-7)</code></pre><p>Return a <code>SmagorinskyLilly</code> type associated with the turbulence closure proposed by Lilly (1962) and Smagorinsky (1958, 1963), which has an eddy viscosity of the form</p><pre><code class="language-none">`νₑ = (C * Δᶠ)² * √(2Σ²) * √(1 - Cb * N² / Σ²) + ν`,</code></pre><p>and an eddy diffusivity of the form</p><pre><code class="language-none">`κₑ = (νₑ - ν) / Pr + κ`</code></pre><p>where <code>Δᶠ</code> is the filter width, <code>Σ² = ΣᵢⱼΣᵢⱼ</code> is the double dot product of the strain tensor <code>Σᵢⱼ</code>, <code>Pr</code> is the turbulent Prandtl number, and <code>N²</code> is the total buoyancy gradient, and <code>Cb</code> is a constant the multiplies the Richardson number modification to the eddy viscosity.</p><p><strong>Keyword arguments</strong></p><pre><code class="language-none">- `C`  : Model constant
- `Cb` : Buoyancy term multipler (`Cb = 0` turns it off, `Cb ≠ 0` turns it on.
         Typically `Cb=1/Pr`.)
- `Pr` : Turbulent Prandtl numbers for each tracer. Either a constant applied to every
         tracer, or a `NamedTuple` with fields for each tracer individually.
- `ν`  : Constant background viscosity for momentum
- `κ`  : Constant background diffusivity for tracer. Can either be a single number
         applied to all tracers, or `NamedTuple` of diffusivities corresponding to each
         tracer.</code></pre><p><strong>References</strong></p><p>Smagorinsky, J. &quot;On the numerical integration of the primitive equations of motion for     baroclinic flow in a closed region.&quot; Monthly Weather Review (1958)</p><p>Lilly, D. K. &quot;On the numerical simulation of buoyant convection.&quot; Tellus (1962)</p><p>Smagorinsky, J. &quot;General circulation experiments with the primitive equations: I.     The basic experiment.&quot; Monthly weather review (1963)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/smagorinsky_lilly.jl#L25-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.∇_κ_∇c-Tuple{Any,Any,Any,Any,Oceananigans.TurbulenceClosures.AbstractSmagorinsky,Any,Any,Any,Vararg{Any,N} where N}" href="#Oceananigans.TurbulenceClosures.∇_κ_∇c-Tuple{Any,Any,Any,Any,Oceananigans.TurbulenceClosures.AbstractSmagorinsky,Any,Any,Any,Vararg{Any,N} where N}"><code>Oceananigans.TurbulenceClosures.∇_κ_∇c</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∇_κ_∇c(i, j, k, grid, c, closure, diffusivities)</code></pre><p>Return the diffusive flux divergence <code>∇ ⋅ (κ ∇ c)</code> for the turbulence <code>closure</code>, where <code>c</code> is an array of scalar data located at cell centers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/smagorinsky_lilly.jl#L169-L174">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.ConstantIsotropicDiffusivity" href="#Oceananigans.TurbulenceClosures.ConstantIsotropicDiffusivity"><code>Oceananigans.TurbulenceClosures.ConstantIsotropicDiffusivity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ConstantIsotropicDiffusivity{FT, K}</code></pre><p>Parameters for constant isotropic diffusivity models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/constant_isotropic_diffusivity.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.ConstantIsotropicDiffusivity" href="#Oceananigans.TurbulenceClosures.ConstantIsotropicDiffusivity"><code>Oceananigans.TurbulenceClosures.ConstantIsotropicDiffusivity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ConstantIsotropicDiffusivity([FT=Float64;] ν, κ)</code></pre><p>Returns parameters for a constant isotropic diffusivity model with constant viscosity <code>ν</code> and constant thermal diffusivities <code>κ</code> for each tracer field in <code>tracers</code> <code>ν</code> and the fields of <code>κ</code> may represent molecular diffusivities in cases that all flow features are explicitly resovled, or turbulent eddy diffusivities that model the effect of unresolved, subgrid-scale turbulence. <code>κ</code> may be a <code>NamedTuple</code> with fields corresponding to each tracer, or a single number to be a applied to all tracers.</p><p>By default, a molecular viscosity of <code>ν = 1.05×10⁻⁶</code> m² s⁻¹ and a molecular thermal diffusivity of <code>κ = 1.46×10⁻⁷</code> m² s⁻¹ is used for each tracer. These molecular values are the approximate viscosity and thermal diffusivity for seawater at 20°C and 35 psu, according to Sharqawy et al., &quot;Thermophysical properties of seawater: A review of existing correlations and data&quot; (2010).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/constant_isotropic_diffusivity.jl#L18-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.VerstappenAnisotropicMinimumDissipation" href="#Oceananigans.TurbulenceClosures.VerstappenAnisotropicMinimumDissipation"><code>Oceananigans.TurbulenceClosures.VerstappenAnisotropicMinimumDissipation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">VerstappenAnisotropicMinimumDissipation{FT} &lt;: AbstractAnisotropicMinimumDissipation{FT}</code></pre><p>Parameters for the anisotropic minimum dissipation large eddy simulation model proposed by Verstappen (2018) and described by Vreugdenhil &amp; Taylor (2018).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/verstappen_anisotropic_minimum_dissipation.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.VerstappenAnisotropicMinimumDissipation" href="#Oceananigans.TurbulenceClosures.VerstappenAnisotropicMinimumDissipation"><code>Oceananigans.TurbulenceClosures.VerstappenAnisotropicMinimumDissipation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">VerstappenAnisotropicMinimumDissipation(FT=Float64; C=1/12, Cb=0.0, ν=ν₀, κ=κ₀)</code></pre><p>Returns parameters of type <code>FT</code> for the <code>VerstappenAnisotropicMinimumDissipation</code> turbulence closure.</p><p><strong>Keyword arguments</strong></p><pre><code class="language-none">- `C`  : Poincaré constant
- `Cb` : Buoyancy modification multiplier (`Cb = 0` turns it off, `Cb = 1` turns it on)
- `ν`  : Constant background viscosity for momentum
- `κ`  : Constant background diffusivity for tracer. Can either be a single number
         applied to all tracers, or `NamedTuple` of diffusivities corresponding to each
         tracer.</code></pre><p>By default, <code>C</code> = 1/12, which is appropriate for a finite-volume method employing a second-order advection scheme, <code>Cb</code> = 0, which terms off the buoyancy modification term, and molecular values are used for <code>ν</code> and <code>κ</code>.</p><p><strong>References</strong></p><p>Vreugdenhil C., and Taylor J. (2018), &quot;Large-eddy simulations of stratified plane Couette     flow using the anisotropic minimum-dissipation model&quot;, Physics of Fluids 30, 085104.</p><p>Verstappen, R. (2018), &quot;How much eddy dissipation is needed to counterbalance the nonlinear     production of small, unresolved scales in a large-eddy simulation of turbulence?&quot;,     Computers &amp; Fluids 176, pp. 276-284.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/verstappen_anisotropic_minimum_dissipation.jl#L20-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.∇_κ_∇c-Union{Tuple{tracer_index}, Tuple{Any,Any,Any,Any,Oceananigans.TurbulenceClosures.AbstractAnisotropicMinimumDissipation,Any,Val{tracer_index},Any,Vararg{Any,N} where N}} where tracer_index" href="#Oceananigans.TurbulenceClosures.∇_κ_∇c-Union{Tuple{tracer_index}, Tuple{Any,Any,Any,Any,Oceananigans.TurbulenceClosures.AbstractAnisotropicMinimumDissipation,Any,Val{tracer_index},Any,Vararg{Any,N} where N}} where tracer_index"><code>Oceananigans.TurbulenceClosures.∇_κ_∇c</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∇_κ_∇c(i, j, k, grid, c, tracer_index, closure, diffusivities)</code></pre><p>Return the diffusive flux divergence <code>∇ ⋅ (κ ∇ c)</code> for the turbulence <code>closure</code>, where <code>c</code> is an array of scalar data located at cell centers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/verstappen_anisotropic_minimum_dissipation.jl#L105-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.BlasiusSmagorinsky" href="#Oceananigans.TurbulenceClosures.BlasiusSmagorinsky"><code>Oceananigans.TurbulenceClosures.BlasiusSmagorinsky</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BlasiusSmagorinsky{ML, FT}</code></pre><p>Parameters for the version of the Smagorinsky closure used in the UK Met Office code Blasius, according to Polton and Belcher (2007).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/blasius_smagorinsky.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.BlasiusSmagorinsky" href="#Oceananigans.TurbulenceClosures.BlasiusSmagorinsky"><code>Oceananigans.TurbulenceClosures.BlasiusSmagorinsky</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BlasiusSmagorinsky(FT=Float64; Pr=1.0, ν=1.05e-6, κ=1.46e-7)</code></pre><p>Returns a <code>BlasiusSmagorinsky</code> closure object of type <code>FT</code>.</p><p><strong>Keyword arguments</strong></p><pre><code class="language-none">- `Pr` : Turbulent Prandtl numbers for each tracer. Either a constant applied to every
         tracer, or a `NamedTuple` with fields for each tracer individually.
- `ν`  : Constant background viscosity for momentum
- `κ`  : Constant background diffusivity for tracer. Can either be a single number
         applied to all tracers, or `NamedTuple` of diffusivities corresponding to each
         tracer.</code></pre><p><strong>References</strong></p><p>Polton, J. A., and Belcher, S. E. (2007), &quot;Langmuir turbulence and deeply penetrating jets     in an unstratified mixed layer.&quot; Journal of Geophysical Research: Oceans.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/blasius_smagorinsky.jl#L25-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.ConstantAnisotropicDiffusivity" href="#Oceananigans.TurbulenceClosures.ConstantAnisotropicDiffusivity"><code>Oceananigans.TurbulenceClosures.ConstantAnisotropicDiffusivity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ConstantAnisotropicDiffusivity{FT, KH, KV}</code></pre><p>Parameters for constant anisotropic diffusivity models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/constant_anisotropic_diffusivity.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.ConstantAnisotropicDiffusivity" href="#Oceananigans.TurbulenceClosures.ConstantAnisotropicDiffusivity"><code>Oceananigans.TurbulenceClosures.ConstantAnisotropicDiffusivity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ConstantAnisotropicDiffusivity(; νh, νv, κh, κv)</code></pre><p>Returns parameters for a constant anisotropic diffusivity closure with constant horizontal and vertical viscosities <code>νh</code>, <code>νv</code> and constant horizontal and vertical tracer diffusivities <code>κh</code>, <code>κv</code>. <code>κh</code> and <code>κv</code> may be <code>NamedTuple</code>s with fields corresponding to each tracer, or a single number to be a applied to all tracers.</p><p>By default, a viscosity of <code>ν = 1.05×10⁻⁶</code> m² s⁻¹ is used for both the horizontal and vertical viscosity, and a diffusivity of <code>κ = 1.46×10⁻⁷</code> m² s⁻¹ is used for the horizontal and vertical diffusivities applied to every tracer. These values are the approximate viscosity and thermal diffusivity for seawater at 20°C and 35 psu, according to Sharqawy et al., &quot;Thermophysical properties of seawater: A review of existing correlations and data&quot; (2010).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/constant_anisotropic_diffusivity.jl#L16-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.RozemaAnisotropicMinimumDissipation" href="#Oceananigans.TurbulenceClosures.RozemaAnisotropicMinimumDissipation"><code>Oceananigans.TurbulenceClosures.RozemaAnisotropicMinimumDissipation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RozemaAnisotropicMinimumDissipation(FT=Float64; C=0.33, ν=1.05e-6, κ=1.46e-7)</code></pre><p>Returns a <code>RozemaAnisotropicMinimumDissipation</code> closure object of type <code>FT</code> with</p><pre><code class="language-none">* `C` : Poincaré constant
* `ν` : &#39;molecular&#39; background viscosity
* `κ` : &#39;molecular&#39; background diffusivity for each tracer</code></pre><p>See Rozema et al., &quot; (2015)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/rozema_anisotropic_minimum_dissipation.jl#L12-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.TwoDimensionalLeith" href="#Oceananigans.TurbulenceClosures.TwoDimensionalLeith"><code>Oceananigans.TurbulenceClosures.TwoDimensionalLeith</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">TwoDimensionalLeith{FT} &lt;: AbstractLeith{FT}</code></pre><p>Parameters for the 2D Leith turbulence closure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/leith_enstrophy_diffusivity.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.TwoDimensionalLeith" href="#Oceananigans.TurbulenceClosures.TwoDimensionalLeith"><code>Oceananigans.TurbulenceClosures.TwoDimensionalLeith</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">TwoDimensionalLeith([FT=Float64;] C=0.3, C_Redi=1, C_GM=1)</code></pre><p>Return a <code>TwoDimensionalLeith</code> type associated with the turbulence closure proposed by Leith (1965) and Fox-Kemper &amp; Menemenlis (2008) which has an eddy viscosity of the form</p><pre><code class="language-none">`νₑ = (C * Δᶠ)³ * √(ζ² + (∇h ∂z w)²)`</code></pre><p>and an eddy diffusivity of the form...</p><p>where <code>Δᶠ</code> is the filter width, <code>ζ² = (∂x v - ∂y u)²</code> is the squared vertical vorticity, and <code>C</code> is a model constant.</p><p><strong>Keyword arguments</strong></p><pre><code class="language-none">- `C`      : Model constant
- `C_Redi` : Coefficient for down-gradient tracer diffusivity for each tracer.
             Either a constant applied to every tracer, or a `NamedTuple` with fields
             for each tracer individually.
- `C_GM`   : Coefficient for down-gradient tracer diffusivity for each tracer.
             Either a constant applied to every tracer, or a `NamedTuple` with fields
             for each tracer individually.</code></pre><p><strong>References</strong></p><p>Leith, C. E. (1968). &quot;Diffusion Approximation for Two‐Dimensional Turbulence&quot;, The Physics of     Fluids 11, 671. doi: 10.1063/1.1691968</p><p>Fox‐Kemper, B., &amp; D. Menemenlis (2008), &quot;Can large eddy simulation techniques improve mesoscale rich     ocean models?&quot;, in Ocean Modeling in an Eddying Regime, Geophys. Monogr. Ser., vol. 177, pp. 319–337.     doi:10.1029/177GM19</p><p>Pearson, B. et al. (2017) , &quot;Evaluation of scale-aware subgrid mesoscale eddy models in a global eddy     rich model&quot;, Ocean Modelling 115, 42-58. doi: 10.1016/j.ocemod.2017.05.007</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/leith_enstrophy_diffusivity.jl#L25-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TurbulenceClosures.∇_κ_∇c-Tuple{Any,Any,Any,Any,Oceananigans.TurbulenceClosures.AbstractLeith,Any,Any,Any,Any,Any}" href="#Oceananigans.TurbulenceClosures.∇_κ_∇c-Tuple{Any,Any,Any,Any,Oceananigans.TurbulenceClosures.AbstractLeith,Any,Any,Any,Any,Any}"><code>Oceananigans.TurbulenceClosures.∇_κ_∇c</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∇_κ_∇c(i, j, k, grid, c, closure, diffusivities)</code></pre><p>Return the diffusive flux divergence <code>∇ ⋅ (κ ∇ c)</code> for the turbulence <code>closure</code>, where <code>c</code> is an array of scalar data located at cell centers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/TurbulenceClosures/turbulence_closure_implementations/leith_enstrophy_diffusivity.jl#L199-L204">source</a></section></article><h2 id="Utilities-1"><a class="docs-heading-anchor" href="#Utilities-1">Utilities</a><a class="docs-heading-anchor-permalink" href="#Utilities-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.GiB" href="#Oceananigans.GiB"><code>Oceananigans.GiB</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">GiB</code></pre><p>A <code>Float64</code> constant equal to 1024<code>MiB</code>. Useful for increasing the clarity of scripts, e.g. <code>max_filesize = 50GiB</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L119-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.KiB" href="#Oceananigans.KiB"><code>Oceananigans.KiB</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">KiB</code></pre><p>A <code>Float64</code> constant equal to 1024.0. Useful for increasing the clarity of scripts, e.g. <code>max_filesize = 250KiB</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L105-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.MiB" href="#Oceananigans.MiB"><code>Oceananigans.MiB</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">MiB</code></pre><p>A <code>Float64</code> constant equal to 1024<code>KiB</code>. Useful for increasing the clarity of scripts, e.g. <code>max_filesize = 100MiB</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L112-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.TiB" href="#Oceananigans.TiB"><code>Oceananigans.TiB</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">TiB</code></pre><p>A <code>Float64</code> constant equal to 1024<code>GiB</code>. Useful for increasing the clarity of scripts, e.g. <code>max_filesize = 2TiB</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L126-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.day" href="#Oceananigans.day"><code>Oceananigans.day</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">day</code></pre><p>A <code>Float64</code> constant equal to 24<code>hour</code>. Useful for increasing the clarity of scripts, e.g. <code>Δt = 0.5day</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L84-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.hour" href="#Oceananigans.hour"><code>Oceananigans.hour</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">hour</code></pre><p>A <code>Float64</code> constant equal to 60<code>minute</code>. Useful for increasing the clarity of scripts, e.g. <code>Δt = 3hour</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L77-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.minute" href="#Oceananigans.minute"><code>Oceananigans.minute</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">minute</code></pre><p>A <code>Float64</code> constant equal to 60<code>second</code>. Useful for increasing the clarity of scripts, e.g. <code>Δt = 15minute</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.second" href="#Oceananigans.second"><code>Oceananigans.second</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">second</code></pre><p>A <code>Float64</code> constant equal to 1.0. Useful for increasing the clarity of scripts, e.g. <code>Δt = 1second</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.pretty_filesize" href="#Oceananigans.pretty_filesize"><code>Oceananigans.pretty_filesize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">pretty_filesize(s, suffix=&quot;B&quot;)</code></pre><p>Convert a floating point value <code>s</code> representing a file size to a more human-friendly formatted string with one decimal places with a <code>suffix</code> defaulting to &quot;B&quot;. Depending on the value of <code>s</code> the string will be formatted to show <code>s</code> using an SI prefix from bytes, kiB (1024 bytes), MiB (1024² bytes), and so on up to YiB (1024⁸ bytes).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L168-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.prettytime-Tuple{Any}" href="#Oceananigans.prettytime-Tuple{Any}"><code>Oceananigans.prettytime</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">prettytime(t)</code></pre><p>Convert a floating point value <code>t</code> representing an amount of time in seconds to a more human-friendly formatted string with three decimal places. Depending on the value of <code>t</code> the string will be formatted to show <code>t</code> in nanoseconds (ns), microseconds (μs), milliseconds (ms), seconds (s), minutes (min), hours (hr), or days (day).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L137-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.update_Δt!-Tuple{Any,Any}" href="#Oceananigans.update_Δt!-Tuple{Any,Any}"><code>Oceananigans.update_Δt!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_Δt!(wizard, model)</code></pre><p>Compute <code>wizard.Δt</code> given the velocities and diffusivities of <code>model</code>, and the parameters of <code>wizard</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/utils.jl#L268-L273">source</a></section></article><h2 id="Abstract-operations-1"><a class="docs-heading-anchor" href="#Abstract-operations-1">Abstract operations</a><a class="docs-heading-anchor-permalink" href="#Abstract-operations-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.@unary-Tuple" href="#Oceananigans.AbstractOperations.@unary-Tuple"><code>Oceananigans.AbstractOperations.@unary</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@unary op1 op2 op3...</code></pre><p>Turn each unary function in the list <code>(op1, op2, op3...)</code> into a unary operator on <code>Oceananigans.Fields</code> for use in <code>AbstractOperations</code>.</p><p>Note: a unary function is a function with one argument: for example, <code>sin(x)</code> is a unary function.</p><p>Also note: a unary function in <code>Base</code> must be imported to be extended: use <code>import Base: op; @unary op</code>.</p><p><strong>Example</strong></p><p>julia&gt; square<em>it(x) = x^2 square</em>it (generic function with 1 method)</p><p>julia&gt; @unary square<em>it 7-element Array{Any,1}:  :sqrt  :sin  :cos  :exp  :tanh  :-  :square</em>it</p><p>julia&gt; c = Field(Cell, Cell, Cell, CPU(), RegularCartesianGrid((1, 1, 16), (1, 1, 1)));</p><p>julia&gt; square_it(c) UnaryOperation at (Cell, Cell, Cell) ├── grid: RegularCartesianGrid{Float64,StepRangeLen{Float64,Base.TwicePrecision{Float64},Base.TwicePrecision{Float64}}} │   ├── size: (1, 1, 16) │   └── domain: x ∈ [0.0, 1.0], y ∈ [0.0, 1.0], z ∈ [0.0, -1.0] └── tree:</p><p>square_it at (Cell, Cell, Cell) via identity └── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/unary_operations.jl#L33-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.@binary-Tuple" href="#Oceananigans.AbstractOperations.@binary-Tuple"><code>Oceananigans.AbstractOperations.@binary</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@binary op1 op2 op3...</code></pre><p>Turn each binary function in the list <code>(op1, op2, op3...)</code> into a binary operator on <code>Oceananigans.Fields</code> for use in <code>AbstractOperations</code>.</p><p>Note: a binary function is a function with two arguments: for example, <code>+(x, y)</code> is a binary function.</p><p>Also note: a binary function in <code>Base</code> must be imported to be extended: use <code>import Base: op; @binary op</code>.</p><p><strong>Example</strong></p><p>```jldoctest julia&gt; plus<em>or</em>times(x, y) = x &lt; 0 ? x + y : x * y plus<em>or</em>times (generic function with 1 method)</p><p>julia&gt; @binary plus<em>or</em>times 6-element Array{Any,1}:  :+  :-  :/  :^  :*  :plus<em>or</em>times</p><p>julia&gt; c, d = (Field(Cell, Cell, Cell, CPU(), RegularCartesianGrid((1, 1, 16), (1, 1, 1))) for i = 1:2);</p><p>julia&gt; plus<em>or</em>times(c, d) BinaryOperation at (Cell, Cell, Cell) ├── grid: RegularCartesianGrid{Float64,StepRangeLen{Float64,Base.TwicePrecision{Float64},Base.TwicePrecision{Float64}}} │   ├── size: (1, 1, 16) │   └── domain: x ∈ [0.0, 1.0], y ∈ [0.0, 1.0], z ∈ [0.0, -1.0] └── tree:</p><p>plus<em>or</em>times at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity ├── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}} └── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/binary_operations.jl#L83-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.@multiary-Tuple" href="#Oceananigans.AbstractOperations.@multiary-Tuple"><code>Oceananigans.AbstractOperations.@multiary</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@multiary op1 op2 op3...</code></pre><p>Turn each multiary operator in the list <code>(op1, op2, op3...)</code> into a multiary operator on <code>Oceananigans.Fields</code> for use in <code>AbstractOperations</code>.</p><p>Note that a multiary operator:     * is a function with two or more arguments: for example, <code>+(x, y, z)</code> is a multiary function;     * must be imported to be extended if part of <code>Base</code>: use <code>import Base: op; @multiary op</code>;     * can only be called on <code>Oceananigans.Field</code>s if the &quot;location&quot; is noted explicitly; see example.</p><p><strong>Example</strong></p><p>```jldoctest julia&gt; harmonic<em>plus(a, b, c) = 1/3 * (1/a + 1/b + 1/c) harmonic</em>plus(generic function with 1 method)</p><p>julia&gt; @multiary harmonic<em>plus 3-element Array{Any,1}:  :+  :*  :harmonic</em>plus</p><p>julia&gt; c, d, e = Tuple(Field(Cell, Cell, Cell, CPU(), RegularCartesianGrid((1, 1, 16), (1, 1, 1))) for i = 1:3);</p><p>julia&gt; harmonic_plus(c, d, e) # this calls the original function, which in turn returns a (correct) operation tree BinaryOperation at (Cell, Cell, Cell) ├── grid: RegularCartesianGrid{Float64,StepRangeLen{Float64,Base.TwicePrecision{Float64},Base.TwicePrecision{Float64}}} │   ├── size: (1, 1, 16) │   └── domain: x ∈ [0.0, 1.0], y ∈ [0.0, 1.0], z ∈ [0.0, -1.0] └── tree:</p><ul><li>at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity</li></ul><p>├── 0.3333333333333333 └── + at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity     ├── + at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity     │   ├── / at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity     │   │   ├── 1     │   │   └── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}}     │   └── / at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity         │   ├── 1         │   └── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}}     └── / at (Cell, Cell, Cell) via Oceananigans.AbstractOperations.identity         ├── 1         └── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}}</p><p>julia&gt; @at (Cell, Cell, Cell) harmonic_plus(c, d, e) # this returns a <code>MultiaryOperation</code> as expected MultiaryOperation at (Cell, Cell, Cell) ├── grid: RegularCartesianGrid{Float64,StepRangeLen{Float64,Base.TwicePrecision{Float64},Base.TwicePrecision{Float64}}} │   ├── size: (1, 1, 16) │   └── domain: x ∈ [0.0, 1.0], y ∈ [0.0, 1.0], z ∈ [0.0, -1.0] └── tree:</p><p>harmonic_plus at (Cell, Cell, Cell) ├── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}} ├── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}} └── OffsetArrays.OffsetArray{Float64,3,Array{Float64,3}}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/multiary_operations.jl#L49-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂x-Tuple{Union{Type{Oceananigans.Cell}, Type{Oceananigans.Face}}}" href="#Oceananigans.AbstractOperations.∂x-Tuple{Union{Type{Oceananigans.Cell}, Type{Oceananigans.Face}}}"><code>Oceananigans.AbstractOperations.∂x</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the x-derivative function acting at (<code>X</code>, <code>Any</code>, <code>Any</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂x-Union{Tuple{Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}, Tuple{Z}, Tuple{Y}, Tuple{X}} where Z where Y where X" href="#Oceananigans.AbstractOperations.∂x-Union{Tuple{Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}, Tuple{Z}, Tuple{Y}, Tuple{X}} where Z where Y where X"><code>Oceananigans.AbstractOperations.∂x</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂x(a::Oceananigans.AbstractLocatedField)</code></pre><p>Return an abstract representation of a x-derivative acting on <code>a</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L77-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂x-Union{Tuple{Z}, Tuple{Y}, Tuple{X}, Tuple{Tuple,Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}} where Z where Y where X" href="#Oceananigans.AbstractOperations.∂x-Union{Tuple{Z}, Tuple{Y}, Tuple{X}, Tuple{Tuple,Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}} where Z where Y where X"><code>Oceananigans.AbstractOperations.∂x</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂x(L::Tuple, a::Oceananigans.AbstractLocatedField)</code></pre><p>Return an abstract representation of an x-derivative acting on <code>a</code> followed by interpolation to <code>L</code>, where <code>L</code> is a 3-tuple of <code>Face</code>s and <code>Cell</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L48-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂y-Tuple{Union{Type{Oceananigans.Cell}, Type{Oceananigans.Face}}}" href="#Oceananigans.AbstractOperations.∂y-Tuple{Union{Type{Oceananigans.Cell}, Type{Oceananigans.Face}}}"><code>Oceananigans.AbstractOperations.∂y</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the y-derivative function acting at (<code>Any</code>, <code>Y</code>, <code>Any</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂y-Union{Tuple{Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}, Tuple{Z}, Tuple{Y}, Tuple{X}} where Z where Y where X" href="#Oceananigans.AbstractOperations.∂y-Union{Tuple{Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}, Tuple{Z}, Tuple{Y}, Tuple{X}} where Z where Y where X"><code>Oceananigans.AbstractOperations.∂y</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂y(a::Oceananigans.AbstractLocatedField)</code></pre><p>Return an abstract representation of a y-derivative acting on <code>a</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L84-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂y-Union{Tuple{Z}, Tuple{Y}, Tuple{X}, Tuple{Tuple,Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}} where Z where Y where X" href="#Oceananigans.AbstractOperations.∂y-Union{Tuple{Z}, Tuple{Y}, Tuple{X}, Tuple{Tuple,Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}} where Z where Y where X"><code>Oceananigans.AbstractOperations.∂y</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂y(L::Tuple, a::Oceananigans.AbstractLocatedField)</code></pre><p>Return an abstract representation of a y-derivative acting on <code>a</code> followed by interpolation to <code>L</code>, where <code>L</code> is a 3-tuple of <code>Face</code>s and <code>Cell</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L57-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂z-Tuple{Union{Type{Oceananigans.Cell}, Type{Oceananigans.Face}}}" href="#Oceananigans.AbstractOperations.∂z-Tuple{Union{Type{Oceananigans.Cell}, Type{Oceananigans.Face}}}"><code>Oceananigans.AbstractOperations.∂z</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the z-derivative function acting at (<code>Any</code>, <code>Any</code>, <code>Z</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂z-Union{Tuple{Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}, Tuple{Z}, Tuple{Y}, Tuple{X}} where Z where Y where X" href="#Oceananigans.AbstractOperations.∂z-Union{Tuple{Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}, Tuple{Z}, Tuple{Y}, Tuple{X}} where Z where Y where X"><code>Oceananigans.AbstractOperations.∂z</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂z(a::Oceananigans.AbstractLocatedField)</code></pre><p>Return an abstract representation of a z-derivative acting on <code>a</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L90-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.∂z-Union{Tuple{Z}, Tuple{Y}, Tuple{X}, Tuple{Tuple,Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}} where Z where Y where X" href="#Oceananigans.AbstractOperations.∂z-Union{Tuple{Z}, Tuple{Y}, Tuple{X}, Tuple{Tuple,Oceananigans.AbstractLocatedField{X,Y,Z,A,G} where G where A}} where Z where Y where X"><code>Oceananigans.AbstractOperations.∂z</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">∂z(L::Tuple, a::Oceananigans.AbstractLocatedField)</code></pre><p>Return an abstract representation of a z-derivative acting on <code>a</code> followed by interpolation to <code>L</code>, where <code>L</code> is a 3-tuple of <code>Face</code>s and <code>Cell</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/derivatives.jl#L66-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.Computation" href="#Oceananigans.AbstractOperations.Computation"><code>Oceananigans.AbstractOperations.Computation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Computation{R, T, O, G}</code></pre><p>Represents an operation performed over the elements of a field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/computations.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.Computation-Tuple" href="#Oceananigans.AbstractOperations.Computation-Tuple"><code>Oceananigans.AbstractOperations.Computation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">(computation::Computation)(args...)</code></pre><p>Performs the <code>compute(computation)</code> and returns the result if <code>isnothing(return_type)</code>, or the result after being converted to <code>return_type</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/computations.jl#L51-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.Computation-Tuple{Any,Any}" href="#Oceananigans.AbstractOperations.Computation-Tuple{Any,Any}"><code>Oceananigans.AbstractOperations.Computation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Computation(operation, result; return_type=Array)</code></pre><p>Returns a <code>Computation</code> representing an <code>operation</code> performed over the elements of <code>operation.grid</code> and stored in <code>result</code>. <code>return_type</code> specifies the output type when the <code>Computation</code> instances is called as a function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/computations.jl#L13-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.compute!-Tuple{Computation}" href="#Oceananigans.AbstractOperations.compute!-Tuple{Computation}"><code>Oceananigans.AbstractOperations.compute!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">compute!(computation::Computation)</code></pre><p>Perform a <code>computation</code>. The result is stored in <code>computation.result</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/computations.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceananigans.AbstractOperations.@at-Tuple{Any,Any}" href="#Oceananigans.AbstractOperations.@at-Tuple{Any,Any}"><code>Oceananigans.AbstractOperations.@at</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@at location abstract_operation</code></pre><p>Modify the <code>abstract_operation</code> so that it returns values at <code>location</code>, where <code>location</code> is a 3-tuple of <code>Face</code>s and <code>Cell</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/Oceananigans.jl/blob/91a9f6d1d51c8c23cd40e5f77c52e55278e44fb3/src/AbstractOperations/interpolation_utils.jl#L86-L91">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../contributing/">« Contributor&#39;s guide</a><a class="docs-footer-nextpage" href="../appendix/staggered_grid/">Staggered grid »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 4 January 2020 17:53">Saturday 4 January 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
